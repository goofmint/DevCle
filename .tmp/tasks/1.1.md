# Task 1.1: Monorepo環境セットアップ（ドキュメント）

- 目的: pnpm workspace を定義し、パッケージ間の依存・スクリプト実行を一元化する。
- スコープ: チェックボックスひとつ分（pnpm workspace 設定）。実装は行わず、インタフェースのみ定義。
- 対象: `core`, `plugins`, `posthog`

## 変更インタフェース（コードは英語）

`pnpm-workspace.yaml` のインタフェース:

```yaml
# packages inclusion only (interface)
packages:
  - core
  - plugins
  - posthog
```

ルート `package.json` のインタフェース（必要に応じて追加）:

```json
{
  "name": "drm-monorepo",
  "private": true,
  "packageManager": "pnpm@>=8",
  "scripts": {
    "dev": "pnpm -r run dev",
    "build": "pnpm -r run build",
    "test": "pnpm -r run test",
    "lint": "pnpm -r run lint",
    "format": "pnpm -r run format",
    "typecheck": "pnpm -r run typecheck"
  }
}
```

備考:
- 上記は構造の提示のみであり、実体の作成・実装は本PRでは行わない。
- 既存パッケージの `scripts` はそのまま利用し、ルートから再帰実行する設計を想定。

## 完了条件
- ルートに `pnpm-workspace.yaml` を配置し、`core`, `plugins`, `posthog` をワークスペース対象に含める設計が明確になっている。
- ルート `package.json` にモノレポ横断スクリプトのインタフェースが定義されている（実体は未作成）。

## 影響範囲
- ルート実行の `pnpm` コマンドで各パッケージスクリプトを一括実行できるようになる想定。
- CI/CD（将来）はルートからの呼び出しに統一可能。

