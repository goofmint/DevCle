# ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ - DRMï¼ˆDevRel Managementï¼‰MVP é–‹ç™º

**Version:** 1.0
**Based on:** requirements.md v2.2, design.md v2.5
**Strategy:** ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™º - å¸¸ã«ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ãªçŠ¶æ…‹ã‚’ç¶­æŒ

---

## æ¦‚è¦

ã‚µãƒ¼ãƒ“ã‚¹åã¯ `DevCle`ï¼ˆDevRel + Circleã®é€ èªï¼‰ã€‚æœ¬ç•ªç’°å¢ƒã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ `devcle.com`ã€‚é–‹ç™ºç’°å¢ƒã¯ `devcle.test`ã€‚

- **ç·ã‚¿ã‚¹ã‚¯æ•°**: 48ã‚¿ã‚¹ã‚¯
- **æ¨å®šä½œæ¥­æ™‚é–“**: 4-6é€±é–“ï¼ˆ1åï¼‰
- **å„ªå…ˆåº¦**: é«˜
- **é–‹ç™ºæ–¹é‡**:
  - docker-composeæ§‹ç¯‰ã‚’æœ€å„ªå…ˆ
  - å„ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã«ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèªå¯èƒ½ãªçŠ¶æ…‹ã‚’ç¶­æŒ
  - MVPã‹ã‚‰æ®µéšçš„ã«æ©Ÿèƒ½è¿½åŠ 
  - LPãƒ»è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã‚‚åˆæœŸã‹ã‚‰çµ„ã¿è¾¼ã¿

---

## Phase 1: ç’°å¢ƒæ§‹ç¯‰ã¨ã‚¤ãƒ³ãƒ•ãƒ©åŸºç›¤ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ãªæœ€å°æ§‹æˆï¼‰

### Task 1.1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸæ§‹é€ ã¨coreãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ…

- [x] `core/`ã®package.jsonä½œæˆï¼ˆRemix, TypeScriptï¼‰
- [x] TypeScript strictè¨­å®šï¼ˆ`exactOptionalPropertyTypes`å«ã‚€ï¼‰
- [x] ESLint 9 flat configè¨­å®š
- [x] Prettierè¨­å®š
- [x] `.gitignore`ä½œæˆ
- **å®Œäº†æ¡ä»¶**: `pnpm install`ãŒcoreãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§æˆåŠŸ
- **ä¾å­˜**: ãªã—
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-1.1-monorepo-setup.md](.tmp/tasks/task-1.1-monorepo-setup.md)
- **æ³¨æ„**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆposthogç­‰ï¼‰ã¯ä¸è¦ã€‚coreã®ã¿æ§‹ç¯‰ã€‚
- **å®Œäº†æ—¥**: 2025-10-10

### Task 1.2: Docker Composeæ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ âœ…

- [x] `docker-compose.yml`ä½œæˆï¼ˆnginx, core, postgres, redisï¼‰
- [x] `docker-compose-dev.yml`ä½œæˆï¼ˆé–‹ç™ºç’°å¢ƒç”¨ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
- [x] `core/Dockerfile`ä½œæˆï¼ˆNode.js 20, pnpmï¼‰
- [x] `.dockerignore`ä½œæˆ
- [x] `.env.example`ä½œæˆï¼ˆç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
- **å®Œäº†æ¡ä»¶**: `docker-compose up -d`ã§ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•
- **ä¾å­˜**: Task 1.1
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-11

### Task 1.3: nginxè¨­å®šã¨ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚· âœ…

- [x] `nginx/nginx.conf`ä½œæˆ
- [x] HTTPSãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆè¨­å®šï¼ˆé–‹ç™ºç’°å¢ƒãƒ»æœ¬ç•ªç’°å¢ƒå…±é€šï¼‰
- [x] é™çš„ãƒ•ã‚¡ã‚¤ãƒ«é…ä¿¡è¨­å®šï¼ˆ`/public`ï¼‰
- [x] Remixã‚¢ãƒ—ãƒªã¸ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®š
- [x] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆ`/health`ï¼‰
- **å®Œäº†æ¡ä»¶**: nginxãŒèµ·å‹•ã—ã€Remixã‚¢ãƒ—ãƒªã«ãƒ—ãƒ­ã‚­ã‚·ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 1.2
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-1.3-nginx-setup.md](.tmp/tasks/task-1.3-nginx-setup.md)
- **å®Œäº†æ—¥**: 2025-10-11

### Task 1.4: PostgreSQLåˆæœŸè¨­å®š âœ…

- [x] åˆæœŸåŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ`infra/postgres/init.sql`ï¼‰
- [x] pgcryptoæ‹¡å¼µã®æœ‰åŠ¹åŒ–
- [x] ãƒ†ãƒŠãƒ³ãƒˆç”¨RLSãƒãƒªã‚·ãƒ¼ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼ˆ`infra/postgres/rls-template.sql`ï¼‰
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šï¼ˆdocker volumeï¼‰
- **å®Œäº†æ¡ä»¶**: PostgreSQLã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã€æ¥ç¶šå¯èƒ½
- **ä¾å­˜**: Task 1.2
- **æ¨å®šæ™‚é–“**: 1.5æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-1.4-postgres-init.md](.tmp/tasks/task-1.4-postgres-init.md)
- **å®Œäº†æ—¥**: 2025-10-11

### Task 1.5: RedisåˆæœŸè¨­å®š âœ…

- [x] `redis/redis.conf`ä½œæˆ
- [x] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼è¨­å®š
- [x] ãƒ¡ãƒ¢ãƒªä¸Šé™ãƒ»evictionãƒãƒªã‚·ãƒ¼è¨­å®š
- [x] æ°¸ç¶šåŒ–è¨­å®šï¼ˆAOFï¼‰
- **å®Œäº†æ¡ä»¶**: Redisã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã€æ¥ç¶šå¯èƒ½
- **ä¾å­˜**: Task 1.2
- **æ¨å®šæ™‚é–“**: 1æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-1.5-redis-init.md](.tmp/tasks/task-1.5-redis-init.md)
- **å®Œäº†æ—¥**: 2025-10-11

---

## Phase 2: Remixã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åŸºç›¤ï¼ˆæœ€å°é™ã®UIï¼‰

### Task 2.1: RemixåˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ…

- [x] Remix v2ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆ`core/`ï¼‰
- [x] TailwindCSSè¨­å®š
- [x] ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä½œæˆï¼ˆ`app/root.tsx`ï¼‰
- [x] ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªè¨­å®š
- [x] ç’°å¢ƒå¤‰æ•°èª­ã¿è¾¼ã¿ï¼ˆ`DATABASE_URL`, `REDIS_URL`ï¼‰
- **å®Œäº†æ¡ä»¶**: Remixã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã€ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 1.2
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-11

### Task 2.2: LPï¼ˆãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼‰ä½œæˆ âœ…

- [x] `app/routes/_index.tsx`ä½œæˆ
- [x] ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã€CTAï¼‰
- [x] æ©Ÿèƒ½ç´¹ä»‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆDRM, ROI, Funnelï¼‰
- [x] ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒªãƒ³ã‚¯
- [x] ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆè¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒªãƒ³ã‚¯ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ‡ã‚¶ã‚¤ãƒ³ãŒæ•´ã£ã¦ã„ã‚‹
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-12

### Task 2.3: åˆ©ç”¨è¦ç´„ãƒšãƒ¼ã‚¸ä½œæˆ âœ…

- [x] `app/routes/terms.tsx`ä½œæˆ
- [x] åˆ©ç”¨è¦ç´„ã®æ–‡ç« ä½œæˆï¼ˆOSSç‰ˆãƒ»SaaSç‰ˆå…±é€šï¼‰
- [x] TailwindCSSã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨
- **å®Œäº†æ¡ä»¶**: `/terms`ã§ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-2.3-terms-page.md](.tmp/tasks/task-2.3-terms-page.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 2.4: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒšãƒ¼ã‚¸ä½œæˆ âœ…

- [x] `app/routes/privacy.mdx`ä½œæˆ
- [x] ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®æ–‡ç« ä½œæˆï¼ˆGDPR/CCPAå¯¾å¿œï¼‰
- [x] ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»åˆ©ç”¨ãƒ»ä¿ç®¡æ–¹é‡ã®è¨˜è¼‰
- **å®Œäº†æ¡ä»¶**: `/privacy`ã§ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-2.4-privacy-page.md](.tmp/tasks/task-2.4-privacy-page.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 2.5: ãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°ãƒšãƒ¼ã‚¸ä½œæˆ âœ…

- [x] `app/routes/pricing.mdx`ä½œæˆ
- [x] æ–™é‡‘è¡¨ä½œæˆ
  - OSSç‰ˆï¼ˆç„¡æ–™ï¼‰
    - ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆ
    - åŸºæœ¬ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
  - SaaSç‰ˆï¼ˆæœ‰æ–™ï¼‰
    - Basic, Team, Enterpriseãƒ—ãƒ©ãƒ³
- [x] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼ˆTailwind v4 @custom-variantè¨­å®šï¼‰
- [x] E2Eãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ18ãƒ†ã‚¹ãƒˆï¼‰
- **å®Œäº†æ¡ä»¶**: `/pricing`ã§ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-12

---

## Phase 3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã¨å®Ÿè£…

### Task 3.1: Drizzle ORMã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ…

- [x] `drizzle-orm`, `drizzle-kit`ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [x] `drizzle.config.ts`ä½œæˆ
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šè¨­å®šï¼ˆ`core/db/connection.ts`ï¼‰
- [x] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
- **å®Œäº†æ¡ä»¶**: DrizzleãŒåˆæœŸåŒ–ã•ã‚Œã€DBæ¥ç¶šç¢ºèªã§ãã‚‹
- **ä¾å­˜**: Task 1.4
- **æ¨å®šæ™‚é–“**: 1.5æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.1-drizzle-setup.md](.tmp/tasks/task-3.1-drizzle-setup.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 3.2: ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒå®šç¾© âœ…

- [x] 7ã¤ã®ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆ25ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
  - admin.ts: tenants, users, api_keys, system_settings, notifications
  - core.ts: organizations, developers, accounts, developer_identifiers, developer_merge_logs
  - campaigns.ts: campaigns, budgets, resources
  - activities.ts: activities, activity_campaigns
  - plugins.ts: plugins, plugin_runs, plugin_events_raw, import_jobs, shortlinks
  - analytics.ts: developer_stats, campaign_stats, funnel_stages, activity_funnel_map
  - migrations.ts: schema_migrations
- [x] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³SQLç”Ÿæˆã¨é©ç”¨
- [x] PostgreSQLæ‹¡å¼µæ©Ÿèƒ½ï¼ˆuuid-ossp, citextï¼‰è¿½åŠ 
- [x] å…¨25ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆç¢ºèª
- **å®Œäº†æ¡ä»¶**: ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ãŒTypeScriptã‚¨ãƒ©ãƒ¼ãªããƒ“ãƒ«ãƒ‰ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 3.1
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.2-core-schema.md](.tmp/tasks/task-3.2-core-schema.md)
- **å®Œäº†æ—¥**: 2025-10-12
- **æ³¨æ„**: Task 3.3, 3.4ã®å†…å®¹ã‚‚å«ã‚ã¦å…¨25ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å®Ÿè£…å®Œäº†

### Task 3.3: ROI/Campaign/Budgetãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒ âœ…

- [x] Task 3.2ã§å®Ÿè£…æ¸ˆã¿ï¼ˆcampaigns.tsï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ“ãƒ«ãƒ‰ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 3.2
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-12ï¼ˆTask 3.2ã«çµ±åˆï¼‰

### Task 3.4: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒ âœ…

- [x] Task 3.2ã§å®Ÿè£…æ¸ˆã¿ï¼ˆplugins.tsï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ“ãƒ«ãƒ‰ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 3.2
- **æ¨å®šæ™‚é–“**: 1æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-12ï¼ˆTask 3.2ã«çµ±åˆï¼‰

### Task 3.5: ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã¨RLSè¨­å®š âœ…

- [x] `pnpm db:generate`ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
- [x] `pnpm db:migrate`ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- [x] PostgreSQL RLSæœ‰åŠ¹åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆï¼ˆ`infra/postgres/rls.sql`ï¼‰
- [x] å„ãƒ†ãƒ¼ãƒ–ãƒ«ã«RLSãƒãƒªã‚·ãƒ¼è¿½åŠ 
- **å®Œäº†æ¡ä»¶**: ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæˆåŠŸã—ã€RLSãŒæœ‰åŠ¹åŒ–ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 3.4
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.5-rls-setup.md](.tmp/tasks/task-3.5-rls-setup.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 3.6: ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ä½œæˆ âœ…

- [x] `core/db/seed.ts`ä½œæˆï¼ˆbcryptã€UUIDã€idempotencyå¯¾å¿œï¼‰
- [x] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒŠãƒ³ãƒˆï¼ˆ`tenant_id = 'default'`ï¼‰ä½œæˆ
- [x] ãƒ†ã‚¹ãƒˆç”¨Developerãƒ»Organizationä½œæˆï¼ˆ5 developers, 3 organizationsï¼‰
- [x] ãƒ†ã‚¹ãƒˆç”¨Activityä½œæˆï¼ˆ10 activitiesï¼‰
- [x] Funnel stages master dataï¼ˆ4 stagesï¼‰
- [x] Activity funnel mappingsï¼ˆ11 mappingsï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ`core/db/seed.test.ts` - 22 testsï¼‰
- **å®Œäº†æ¡ä»¶**: `pnpm db:seed`ã§ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ãŒæŠ•å…¥ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 3.5
- **æ¨å®šæ™‚é–“**: 1.5æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.6-seed-data.md](.tmp/tasks/task-3.6-seed-data.md)
- **å®Œäº†æ—¥**: 2025-10-12
- **æ³¨æ„**: RLSãƒãƒªã‚·ãƒ¼ã¨ã®çµ±åˆã¯ãƒ†ãƒŠãƒ³ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆAPIå®Ÿè£…å¾Œã«å¯¾å¿œ

### Task 3.7: ãƒ†ãƒŠãƒ³ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†APIå®Ÿè£… âœ…

- [x] `core/db/connection.ts`ã«ãƒ†ãƒŠãƒ³ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¨­å®šAPIè¿½åŠ ï¼ˆsetTenantContext, getTenantContext, clearTenantContextï¼‰
- [x] RLSãƒãƒªã‚·ãƒ¼ã®ä¿®æ­£ï¼ˆFORCE RLS + NULL-safeæ¡ä»¶ï¼‰
- [x] ã‚·ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®RLSå¯¾å¿œï¼ˆä¸€æ™‚çš„ãªç„¡åŠ¹åŒ–ï¼‰
- [x] ã‚·ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å†ªç­‰æ€§ä¿®æ­£ï¼ˆå›ºå®šUUIDä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: `pnpm db:seed`ã§ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ãŒæŠ•å…¥ã§ãã‚‹ï¼ˆRLSãƒãƒªã‚·ãƒ¼ã‚’æº€ãŸã—ãªãŒã‚‰ï¼‰ âœ“
- **ä¾å­˜**: Task 3.5, Task 3.6
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.7-tenant-context-api.md](.tmp/tasks/task-3.7-tenant-context-api.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 3.8: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£… âœ…

- [x] Remix Sessionsã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆCookie-basedï¼‰
- [x] `core/services/auth.service.ts`ä½œæˆ
- [x] `login(email, password)`å®Ÿè£…ï¼ˆbcryptã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼ï¼‰
- [x] `logout()`å®Ÿè£…ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ç ´æ£„ï¼‰
- [x] `getCurrentUser(request)`å®Ÿè£…ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—ï¼‰
- [x] `app/routes/login.tsx`ä½œæˆï¼ˆãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã€Header/Footer/ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰
- [x] `app/routes/logout.ts`ä½œæˆï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†ã€POST-onlyï¼‰
- [x] èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å®Ÿè£…ï¼ˆ`requireAuth()`, `getCurrentUser()`ï¼‰
- [x] ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ãƒ†ãƒŠãƒ³ãƒˆIDã®ç´ä»˜ã‘
- [x] E2Eãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ6 testsã€å…¨49 E2Eãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ï¼‰
- [x] RLSè¨­è¨ˆã®ä¿®æ­£ï¼ˆtenantsã¯RLSæœ‰åŠ¹ã€usersã¯RLSç„¡åŠ¹ã§èªè¨¼åŸºç›¤åŒ–ï¼‰
- [x] Idempotent seedingå®Ÿè£…ï¼ˆTRUNCATE CASCADEï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãŒæ©Ÿèƒ½ã—ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒä¿æŒã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 3.7
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-13
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.8-authentication.md](.tmp/tasks/task-3.8-authentication.md)
- **æ³¨æ„**:
  - usersãƒ†ãƒ¼ãƒ–ãƒ«ã¯æ—¢ã«Task 3.2ã§å®Ÿè£…æ¸ˆã¿ï¼ˆadmin.tsï¼‰
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯bcryptã§ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆconstant-time comparisonï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³Cookieã¯`httpOnly`, `secure`, `sameSite`è¨­å®š
  - ãƒ†ã‚¹ãƒˆç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼: test@example.com / password123ï¼ˆmemberï¼‰ã€admin@example.com / admin123456ï¼ˆadminï¼‰
  - é‡è¦ãªä¿®æ­£: `/auth/login` â†’ `/login`ã€RLSè¨­è¨ˆã®ä¿®æ­£ï¼ˆusers tableã¯RLSç„¡åŠ¹ï¼‰

---

## Phase 4: DRMã‚³ã‚¢æ©Ÿèƒ½å®Ÿè£…ï¼ˆMVPï¼‰

### Task 4.1: DRMã‚µãƒ¼ãƒ“ã‚¹åŸºç›¤å®Ÿè£… âœ…

- [x] `core/services/drm.service.ts`ä½œæˆ
- [x] `createDeveloper()`å®Ÿè£…
- [x] `getDeveloper()`å®Ÿè£…
- [x] `listDevelopers()`å®Ÿè£…ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰
- [x] `updateDeveloper()`å®Ÿè£…ï¼ˆUPDATEæ“ä½œï¼‰
- [x] `deleteDeveloper()`å®Ÿè£…ï¼ˆDELETEæ“ä½œï¼‰
- [x] Zodã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- [x] ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…ï¼ˆlistDevelopersï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ24 testsï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 3.6
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.1-drm-service.md](.tmp/tasks/task-4.1-drm-service.md)
- **å®Œäº†æ—¥**: 2025-10-13

### Task 4.2: Developer APIå®Ÿè£… âœ…

- [x] `app/routes/api/developers.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/developers`ï¼ˆä¸€è¦§å–å¾—ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚£ãƒ«ã‚¿ã€ã‚½ãƒ¼ãƒˆï¼‰
- [x] `POST /api/developers`ï¼ˆæ–°è¦ä½œæˆï¼‰
- [x] `app/routes/api/developers.$id.ts`ä½œæˆ
- [x] `GET /api/developers/:id`ï¼ˆè©³ç´°å–å¾—ï¼‰
- [x] `PUT /api/developers/:id`ï¼ˆæ›´æ–°ï¼‰
- [x] `DELETE /api/developers/:id`ï¼ˆå‰Šé™¤ï¼‰
- [x] èªè¨¼ãƒã‚§ãƒƒã‚¯ï¼ˆTask 3.8ã®requireAuth()ä½¿ç”¨ï¼‰
- [x] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆ400, 401, 404, 405, 409, 500ï¼‰
- **å®Œäº†æ¡ä»¶**: APIãŒçµ±åˆãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 3.8, Task 4.1
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.2-developer-api.md](.tmp/tasks/task-4.2-developer-api.md)
- **å®Œäº†æ—¥**: 2025-10-13

### Task 4.3: IDçµ±åˆæ©Ÿèƒ½å®Ÿè£… âœ…

- [x] `resolveDeveloper()`å®Ÿè£…ï¼ˆidentifiersãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰æ¤œç´¢ï¼‰
- [x] `mergeDevelopers()`å®Ÿè£…ï¼ˆé‡è¤‡é–‹ç™ºè€…ã®çµ±åˆï¼‰
- [x] ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»SNS IDã‹ã‚‰ã®ãƒãƒƒãƒãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯
- **å®Œäº†æ¡ä»¶**: IDçµ±åˆãƒ­ã‚¸ãƒƒã‚¯ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 4.1
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-13
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.3-id-integration.md](.tmp/tasks/task-4.3-id-integration.md)
- **æ³¨æ„**:
  - identity.service.tsã‚’3ã¤ã«åˆ†å‰²ï¼ˆidentity-resolver.service.ts, identity-merge.service.ts, identity-identifiers.service.tsï¼‰
  - RLSå¯¾å¿œï¼šwithTenantContext()ãƒ˜ãƒ«ãƒ‘ãƒ¼ä½¿ç”¨ï¼ˆæœ¬ç•ªç’°å¢ƒã®connection poolingå¯¾å¿œï¼‰
  - å…¨160ãƒ†ã‚¹ãƒˆæˆåŠŸ

### Task 4.4: Activityã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£… âœ…

- [x] `core/services/activity.service.ts`ä½œæˆï¼ˆbarrel fileï¼‰
- [x] `createActivity()`å®Ÿè£…ï¼ˆCRUD - Createï¼‰
- [x] `getActivity()`å®Ÿè£…ï¼ˆCRUD - Read singleï¼‰
- [x] `listActivities()`å®Ÿè£…ï¼ˆCRUD - Readã€developerId/accountId/resourceId/action/source/æ—¥ä»˜ç¯„å›²ã§ãƒ•ã‚£ãƒ«ã‚¿ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚½ãƒ¼ãƒˆï¼‰
- [x] `updateActivity()`å®Ÿè£…ï¼ˆCRUD - Updateã€éƒ¨åˆ†æ›´æ–°å¯¾å¿œï¼‰
- [x] `deleteActivity()`å®Ÿè£…ï¼ˆCRUD - Deleteã€GDPRå¯¾å¿œï¼‰
- [x] Zodã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCreateActivitySchema, ListActivitiesSchema, UpdateActivitySchemaï¼‰
- [x] ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆactivity-create/get/list/update/delete.service.tsã€å„150è¡Œä»¥ä¸‹ï¼‰
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®æ­£ï¼ˆrace conditionå¯¾ç­–ã€tenant scopingã€empty update guardï¼‰
- [x] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¿®æ­£ï¼ˆdate coercionã€date range validationï¼‰
- [x] UUIDé–¢æ•°çµ±ä¸€ï¼ˆuuid-ossp extensionè¿½åŠ ï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ25 testsã€ãƒ¢ãƒƒã‚¯ä¸ä½¿ç”¨ã€å…¨ã¦é€šéï¼‰
- [x] TypeScriptã‚¨ãƒ©ãƒ¼è§£æ¶ˆï¼ˆas any/unknownä¸ä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 4.1
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.4-activity-service.md](.tmp/tasks/task-4.4-activity-service.md)
- **å®Œäº†æ—¥**: 2025-10-13
- **æ³¨æ„**:
  - Deduplicationæ©Ÿèƒ½å®Ÿè£…ï¼ˆdedupKey with unique constraintï¼‰
  - Confidence score validation (0.0-1.0)
  - Event sourcing principlesï¼ˆActivities are event logsï¼‰
  - Drizzleã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ãƒ¼ã®å‹å®‰å…¨æ€§å¯¾å¿œï¼ˆãƒã‚§ãƒ¼ãƒ³å½¢å¼ï¼‰
  - Critical security fixes implemented (atomic operations, tenant scoping)
  - Date validation and coercion for ISO string support

### Task 4.5: Activity APIå®Ÿè£… âœ…

- [x] `app/routes/api/activities.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/activities?developer_id=xxx`ï¼ˆä¸€è¦§å–å¾—ï¼‰
- [x] `POST /api/activities`ï¼ˆæ–°è¦ç™»éŒ²ï¼‰
- [x] `GET /api/activities/:id`ï¼ˆè©³ç´°å–å¾—ï¼‰
- [x] `PUT /api/activities/:id`ï¼ˆæ›´æ–°ï¼‰
- [x] `DELETE /api/activities/:id`ï¼ˆå‰Šé™¤ï¼‰
- [x] èªè¨¼ãƒã‚§ãƒƒã‚¯ï¼ˆTask 3.8ã®requireAuth()ä½¿ç”¨ï¼‰
- [x] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆ400, 401, 404, 409, 500ï¼‰
- [x] ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆlist/create/get/update/delete.handler.tsã€å„150è¡Œä»¥ä¸‹ï¼‰
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®æ­£ï¼ˆrequest body guardã€date validationã€COUNTæœ€é©åŒ–ï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ26 testsã€ãƒ¢ãƒƒã‚¯ä¸ä½¿ç”¨ã€å…¨ã¦é€šéï¼‰
- [x] TypeScriptã‚¨ãƒ©ãƒ¼è§£æ¶ˆï¼ˆas any/unknownä¸ä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: APIãŒçµ±åˆãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 3.8, Task 4.4
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.5-activity-api.md](.tmp/tasks/task-4.5-activity-api.md)
- **å®Œäº†æ—¥**: 2025-10-13
- **æ³¨æ„**:
  - Event sourcing principlesï¼ˆActivities are event logsï¼‰
  - UPDATE/DELETEã¯æ¥µã‚ã¦ç¨€ãªæ“ä½œï¼ˆGDPRå¯¾å¿œç­‰ï¼‰
  - Deduplication via dedupKeyï¼ˆ409 Conflict responseï¼‰
  - ãƒãƒ³ãƒ‰ãƒ©ãƒ¼åˆ†é›¢ã§ã‚³ãƒ¼ãƒ‰å¯èª­æ€§å‘ä¸Š
  - COUNT aggregateã‚¯ã‚¨ãƒªã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

---

## Phase 5: ROIåˆ†ææ©Ÿèƒ½å®Ÿè£…ï¼ˆMVPï¼‰

### Task 5.1: ROIã‚µãƒ¼ãƒ“ã‚¹åŸºç›¤å®Ÿè£… âœ…

- [x] `core/services/campaign.service.ts`ä½œæˆï¼ˆbarrel fileï¼‰
- [x] `createCampaign()`å®Ÿè£…ï¼ˆCampaignä½œæˆï¼‰
- [x] `getCampaign()`å®Ÿè£…ï¼ˆCampaignè©³ç´°å–å¾—ï¼‰
- [x] `listCampaigns()`å®Ÿè£…ï¼ˆCampaignä¸€è¦§å–å¾—ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆï¼‰
- [x] `updateCampaign()`å®Ÿè£…ï¼ˆCampaignæ›´æ–°ï¼‰
- [x] `deleteCampaign()`å®Ÿè£…ï¼ˆCampaignå‰Šé™¤ï¼‰
- [x] Zodã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCreateCampaignSchema, ListCampaignsSchema, UpdateCampaignSchemaï¼‰
- [x] RLSå¯¾å¿œï¼ˆwithTenantContextä½¿ç”¨ï¼‰
- [x] ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆcampaign.schemas.ts, campaign-{create,get,list,update,delete}.service.tsã€å„150è¡Œä»¥ä¸‹ï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ22ãƒ†ã‚¹ãƒˆã€ãƒ¢ãƒƒã‚¯ä¸ä½¿ç”¨ã€å…¨ã¦é€šéï¼‰
- [x] TypeScriptã‚¨ãƒ©ãƒ¼è§£æ¶ˆï¼ˆ`as any`/`as unknown`ä¸ä½¿ç”¨ï¼‰
- [x] Dateå‹ â†’ PostgreSQL date stringå¤‰æ›ï¼ˆ'YYYY-MM-DD'ï¼‰
- [x] CASCADEå‰Šé™¤å®Ÿè£…ï¼ˆbudgetså‰Šé™¤ã€resources orphanåŒ–ï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 3.6
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-5.1-roi-service.md](.tmp/tasks/task-5.1-roi-service.md)
- **å®Œäº†æ—¥**: 2025-10-14

### Task 5.2: ROIè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£… âœ…

- [x] `calculateROI(campaignId)`å®Ÿè£…
- [x] `getCampaignCost()`å®Ÿè£…ï¼ˆbudgetsã‹ã‚‰SUMé›†è¨ˆï¼‰
- [x] `getCampaignValue()`å®Ÿè£…ï¼ˆactivitiesã®valueåˆ—ã‹ã‚‰SUMé›†è¨ˆï¼‰
- [x] ROIè¨ˆç®—å¼ã®å®Ÿè£…ï¼ˆ`(åŠ¹æœå€¤ - æŠ•è³‡é¡) / æŠ•è³‡é¡ * 100`ï¼‰
- [x] Zodã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCampaignROISchemaï¼‰
- [x] ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆroi.schemas.ts, roi-{cost,value,calculate}.service.tsã€å„150è¡Œä»¥ä¸‹ï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ16ãƒ†ã‚¹ãƒˆã€ãƒ¢ãƒƒã‚¯ä¸ä½¿ç”¨ã€å…¨ã¦é€šéï¼‰
- [x] TypeScriptã‚¨ãƒ©ãƒ¼è§£æ¶ˆï¼ˆ`as any`/`as unknown`ä¸ä½¿ç”¨ï¼‰
- [x] activities.value ã‚«ãƒ©ãƒ è¿½åŠ ï¼ˆmigration 0002ï¼‰
- [x] RLSå¯¾å¿œï¼ˆwithTenantContextä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 5.1
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-5.2-roi-calculation.md](.tmp/tasks/task-5.2-roi-calculation.md)
- **å®Œäº†æ—¥**: 2025-10-14

### Task 5.3: çŸ­ç¸®URLæ©Ÿèƒ½å®Ÿè£… âœ…

- [x] `generateShortURL(campaignId, target)`å®Ÿè£…
- [x] çŸ­ç¸®IDç”Ÿæˆï¼ˆnanoidãªã©ï¼‰
- [x] Clicksãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ç™»éŒ²
- [x] ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆAPIå®Ÿè£…ï¼ˆ`app/routes/c/$shortId.ts`ï¼‰
- **å®Œäº†æ¡ä»¶**: çŸ­ç¸®URLãŒæ©Ÿèƒ½ã—ã€ã‚¯ãƒªãƒƒã‚¯æ•°ãŒã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 5.1
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-5.3-shorturl.md](.tmp/tasks/task-5.3-shorturl.md)
- **å®Œäº†æ—¥**: 2025-10-15

### Task 5.4: Campaign APIå®Ÿè£… âœ…

- [x] `app/routes/api/campaigns.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/campaigns`ï¼ˆä¸€è¦§å–å¾—ï¼‰
- [x] `POST /api/campaigns`ï¼ˆæ–°è¦ä½œæˆï¼‰
- [x] `app/routes/api/campaigns.$id.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/campaigns/:id`ï¼ˆè©³ç´°å–å¾—ï¼‰
- [x] `PUT /api/campaigns/:id`ï¼ˆæ›´æ–°ï¼‰
- [x] `DELETE /api/campaigns/:id`ï¼ˆå‰Šé™¤ï¼‰
- [x] `app/routes/api/campaigns.$id.roi.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/campaigns/:id/roi`ï¼ˆROIå–å¾—ï¼‰
- **å®Œäº†æ¡ä»¶**: CRUDå®Œå…¨å¯¾å¿œã®APIãŒçµ±åˆãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 5.2, Task 5.3
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-5.4-campaign-api.md](.tmp/tasks/task-5.4-campaign-api.md)
- **å®Œäº†æ—¥**: 2025-10-16

---

## Phase 6: ãƒ•ã‚¡ãƒãƒ«åˆ†ææ©Ÿèƒ½å®Ÿè£…ï¼ˆMVPï¼‰

### Task 6.1: Funnelã‚µãƒ¼ãƒ“ã‚¹åŸºç›¤å®Ÿè£… âœ…

- [x] `core/services/funnel.service.ts`ä½œæˆ
- [x] `classifyStage(activity)`å®Ÿè£…ï¼ˆAwareness/Engagement/Adoption/Advocacyåˆ¤å®šï¼‰
- [x] `getFunnelStats()`å®Ÿè£…ï¼ˆå„ã‚¹ãƒ†ãƒ¼ã‚¸ã®äººæ•°é›†è¨ˆï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 4.3
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-6.1-funnel-service.md](.tmp/tasks/task-6.1-funnel-service.md)
- **å®Œäº†æ—¥**: 2025-10-16

### Task 6.2: ãƒ‰ãƒ­ãƒƒãƒ—ç‡è¨ˆç®—å®Ÿè£… âœ…

- [x] `calculateDropRate(stage)`å®Ÿè£…
- [x] å‰ã‚¹ãƒ†ãƒ¼ã‚¸ã‹ã‚‰ã®é›¢è„±ç‡è¨ˆç®—
- [x] æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®é›†è¨ˆ
- **å®Œäº†æ¡ä»¶**: è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 6.1
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-6.2-drop-rate-calculation.md](.tmp/tasks/task-6.2-drop-rate-calculation.md)
- **å®Œäº†æ—¥**: 2025-10-16

### Task 6.3: Funnel APIå®Ÿè£… âœ…

- [x] `app/routes/api/funnel.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/funnel`ï¼ˆå…¨ä½“ãƒ•ã‚¡ãƒãƒ«å–å¾—ï¼‰
- [x] `GET /api/funnel/timeline`ï¼ˆæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰
- **å®Œäº†æ¡ä»¶**: APIãŒçµ±åˆãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 6.2
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-6.3-funnel-api.md](.tmp/tasks/task-6.3-funnel-api.md)
- **å®Œäº†æ—¥**: 2025-10-16

---

## Phase 7: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰UIå®Ÿè£…ï¼ˆMVPï¼‰

### Task 7.1: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®Ÿè£… âœ…

- [x] `app/routes/dashboard.tsx`ä½œæˆ
- [x] ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆOverview, Developers, Campaigns, Funnelï¼‰ã€‚ä¸€ç•ªä¸‹ã« System Settings ã¸ã®ã‚¢ã‚¤ã‚³ãƒ³
- [x] ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆãƒ­ã‚´ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼‰
- [x] ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®é …ç›®ã€ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¬¡ç¬¬ã§å¢—æ¸›ã™ã‚‹ã“ã¨ã‚’æƒ³å®š
- [x] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼ˆDarkModeProviderå®Ÿè£…ï¼‰
- [x] ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰
- [x] E2Eãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ12ãƒ†ã‚¹ãƒˆï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.1-dashboard-layout.md](.tmp/tasks/task-7.1-dashboard-layout.md)
- **å®Œäº†æ—¥**: 2025-10-17

### Task 7.2: Overviewãƒšãƒ¼ã‚¸å®Ÿè£… âœ…

- [x] `app/routes/dashboard._index.tsx`ä½œæˆ
- [x] Swapyã§ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—å¯èƒ½ã«ï¼ˆ[Swapy](https://swapy.tahazsh.com/)ï¼‰
- [x] ç·ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£æ•°ãƒ»é–‹ç™ºè€…æ•°ãƒ»æ–½ç­–ä»¶æ•°ã®è¡¨ç¤º
- [x] ROIå¹³å‡å€¤ã®è¡¨ç¤º
- [x] ç°¡æ˜“ã‚°ãƒ©ãƒ•ï¼ˆRechartsï¼‰
- [x] E2Eãƒ†ã‚¹ãƒˆä½œæˆ
- **å®Œäº†æ¡ä»¶**: Overviewãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 7.1, Task 4.5, Task 5.4
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.2-overview-page.md](.tmp/tasks/task-7.2-overview-page.md)
- **å®Œäº†æ—¥**: 2025-10-17

### Task 7.3: Developersãƒšãƒ¼ã‚¸å®Ÿè£… âœ…

- [x] `app/routes/dashboard/developers.tsx`ä½œæˆ
- [x] é–‹ç™ºè€…ãƒªã‚¹ãƒˆè¡¨ç¤ºï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰
  - ä¸€è¦§æ©Ÿèƒ½ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã‚‚ä½¿ã†ã®ã§ã€å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ã™ã‚‹
- [x] æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½
- [x] é–‹ç™ºè€…è©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆ`/dashboard/developers/:id`ï¼‰
- **å®Œäº†æ¡ä»¶**: é–‹ç™ºè€…ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã€è©³ç´°ãƒšãƒ¼ã‚¸ã¸é·ç§»ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 7.1, Task 4.2, Task 4.3
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3-developers-page.md](.tmp/tasks/task-7.3-developers-page.md)
- **å®Œäº†æ—¥**: 2025-10-18

### Task 7.3.1: RLSå®Ÿè£…ã®ä¿®æ­£ã¨ãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ”¹å–„ï¼ˆæŠ€è¡“çš„è² å‚µè§£æ¶ˆï¼‰

- [ ] **NODE_ENV=testç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¯¾å¿œ**
  - ç¾åœ¨ã®å•é¡Œ: `connection.ts`ã§`NODE_ENV=test`æ™‚ã«`max: 1`åˆ¶é™ãŒã‚ã‚Šã€E2Eç’°å¢ƒã§ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ç™ºç”Ÿ
- [ ] **withTenantContext()ã¸ã®çµ±ä¸€**
  - ç¾åœ¨ã®å•é¡Œ: Production codeã¨Testã‚³ãƒ¼ãƒ‰ãŒ`setTenantContext()`ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ã‚³ãƒ¼ãƒ—ã€`SET`ï¼‰ã‚’ä½¿ç”¨
  - Connection poolingã§æ¥ç¶šãŒå†åˆ©ç”¨ã•ã‚Œã‚‹ã¨ã€tenant contextãŒæ¼æ´©ã™ã‚‹å±é™ºæ€§
  - æ­£ã—ã„å®Ÿè£…: `withTenantContext()`ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚¹ã‚³ãƒ¼ãƒ—ã€`SET LOCAL`ï¼‰ã‚’ä½¿ç”¨
  - å½±éŸ¿ç¯„å›²:
    - Production API routes: `app/routes/api/campaigns.ts`, `app/routes/api/campaigns.$id.ts`, `app/routes/api/funnel.ts`
    - Test code: `app/middleware/tenant-context.test.ts`, `app/routes/api/campaigns.$id.test.ts`ã€ãã®ä»–ã™ã¹ã¦ã®RLSãƒ†ã‚¹ãƒˆ
  - å®Ÿè£…æ‰‹é †:
    2. ã™ã¹ã¦ã®Production codeã‚’`withTenantContext()`ã«æ›¸ãæ›ãˆ
    3. ã™ã¹ã¦ã®Test codeã‚’`withTenantContext()`ã«æ›¸ãæ›ãˆ
    4. RLS integration testsãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3.1-rls-tenancy-refactor.md](.tmp/tasks/task-7.3.1-rls-tenancy-refactor.md)
- **å®Œäº†æ¡ä»¶**:
  - çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆVitestï¼‰ãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹
  - E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰ãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹ï¼ˆNODE_ENV=testç’°å¢ƒï¼‰
  - ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ãŒ`withTenantContext()`ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹
- **ä¾å­˜**: ãªã—ï¼ˆç‹¬ç«‹ã—ãŸæŠ€è¡“çš„è² å‚µè§£æ¶ˆã‚¿ã‚¹ã‚¯ï¼‰
- **æ¨å®šæ™‚é–“**: 8æ™‚é–“
- **å„ªå…ˆåº¦**: é«˜ï¼ˆç¾åœ¨ã®RLSå®Ÿè£…ã¯æœ¬è³ªçš„ã«å±é™ºï¼‰
- **æ³¨æ„**:
  - ã“ã®ã‚¿ã‚¹ã‚¯ã¯å¤§è¦æ¨¡ãªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å«ã‚€
  - ã™ã¹ã¦ã®API routesã¨service functionsã«å½±éŸ¿
  - æ…é‡ãªãƒ†ã‚¹ãƒˆã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå¿…è¦

### Task 7.3.2: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ã®å®Ÿè£… âœ…

- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒæ›´æ–°ï¼ˆ`service_name`, `logo_url`, `fiscal_year_start_month`, `timezone`, `s3_settings`, `smtp_settings`è¿½åŠ ï¼‰
- [x] `core/config/env.ts`å®Ÿè£…ï¼ˆENCRYPTION_KEYèµ·å‹•æ™‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- [x] `core/utils/encryption.ts`å®Ÿè£…ï¼ˆAES-256-GCMæš—å·åŒ–/å¾©å·åŒ–ã€ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œï¼‰
- [x] `core/utils/s3-client.ts`å®Ÿè£…ï¼ˆS3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰/å‰Šé™¤ï¼‰
- [x] `core/utils/smtp-client.ts`å®Ÿè£…ï¼ˆSMTPæ¥ç¶šãƒ†ã‚¹ãƒˆï¼‰
- [x] `core/services/system-settings.service.ts`å®Ÿè£…ï¼ˆCRUDã€æš—å·åŒ–ã€S3/SMTPè¨­å®šãƒã‚§ãƒƒã‚¯ã€ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰
- [x] `app/routes/api.system-settings.ts`å®Ÿè£…ï¼ˆGET/PUTã€adminæ¨©é™ãƒã‚§ãƒƒã‚¯ï¼‰
- [x] `app/routes/api.system-settings.upload-logo.ts`å®Ÿè£…ï¼ˆPOSTã€ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰
- [x] `app/routes/dashboard.settings.tsx`ä½œæˆï¼ˆBasic/S3/SMTPè¨­å®šç”»é¢ã€ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰UIï¼‰
- [x] æ¥ç¶šãƒ†ã‚¹ãƒˆæ©Ÿèƒ½å®Ÿè£…ï¼ˆS3/SMTPæ¥ç¶šç¢ºèªAPIï¼‰
- [x] E2Eãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ14ãƒ†ã‚¹ãƒˆï¼šBasic 6 + S3 3 + SMTP 2 + Validation 3ï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€S3/SMTPè¨­å®šãŒä¿å­˜ãƒ»ãƒ†ã‚¹ãƒˆãƒ»ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 7.1
- **æ¨å®šæ™‚é–“**: 8æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-20
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3.2-system-settings.md](.tmp/tasks/task-7.3.2-system-settings.md)
- **æ³¨æ„**:
  - AIæ©Ÿèƒ½ã¯OSSç‰ˆã«å«ã¾ã‚Œãªã„ãŸã‚é™¤å¤–
  - ä¼šè¨ˆå¹´åº¦ã¯æœŸåˆæœˆã®ã¿ï¼ˆ1-12ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 4ï¼‰
  - S3æœªè¨­å®šæ™‚ã¯ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–ï¼ˆURLå…¥åŠ›ã®ã¿ï¼‰
  - æ©Ÿå¯†æƒ…å ±ï¼ˆAPI keys, passwordsï¼‰ã¯æš—å·åŒ–ã—ã¦DBä¿å­˜
  - GET APIã§ã¯æ©Ÿå¯†æƒ…å ±ã‚’è¿”ã•ãªã„ï¼ˆboolean flagã®ã¿ï¼‰
  - è¨­å®šå¤‰æ›´ã¯adminãƒ­ãƒ¼ãƒ«ã®ã¿è¨±å¯
  - ENCRYPTION_KEYèµ·å‹•æ™‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆFail-Fastï¼‰
  - ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰: multipart/form-dataã€2MBä»¥ä¸‹ã€PNG/JPEG/WebPã®ã¿ï¼ˆSVGé™¤å¤–ï¼‰

### Task 7.3.3: ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚«ãƒ©ãƒ¼ã¨ã‚¢ã‚¤ã‚³ãƒ³ã®è¨­å®šç”»é¢å®Ÿè£…ï¼ˆã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ã®ä¸€éƒ¨ï¼‰ ğŸ”„ é€²è¡Œä¸­

**ç¾åœ¨ã®é€²æ—ï¼ˆ2025-10-20ï¼‰:**
- [x] `core/db/schema/admin.ts`ã«`activity_types`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ  âœ…
  - ã‚«ãƒ©ãƒ : `activity_type_id`, `tenant_id`, `action`, `icon_name`, `color_class`, `stage_key`, `created_at`, `updated_at`
  - Migration 0007ç”Ÿæˆãƒ»é©ç”¨å®Œäº†
- [x] `core/services/activity-type.service.ts`ä½œæˆï¼ˆCRUD + ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼‰ âœ…
  - 24å€‹ã®ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹
- [x] `app/routes/api.activity-types.ts`ä½œæˆï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—CRUD APIï¼‰ âœ…
  - GET (list), POST (create) - 13ãƒ†ã‚¹ãƒˆ
- [x] `app/routes/api.activity-types.$action.ts`ä½œæˆï¼ˆå€‹åˆ¥ãƒªã‚½ãƒ¼ã‚¹APIï¼‰ âœ…
  - GET, PUT, DELETE - 13ãƒ†ã‚¹ãƒˆ
- [x] `app/routes/api.activity-types.actions.ts`ä½œæˆï¼ˆæ—¢å­˜ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§APIï¼‰ âœ…
  - GET - 3ãƒ†ã‚¹ãƒˆ
- [ ] ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ@zunicornshift/mui-iconify-picker, react-color, @types/react-colorï¼‰
- [ ] `app/routes/dashboard.settings.activity-types.tsx`ä½œæˆï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—è¨­å®šç”»é¢ï¼‰
- [ ] è¨­å®šç”»é¢UIå®Ÿè£…
  - ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ä¸€è¦§è¡¨ç¤ºï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ï¼‰
  - ã‚¢ã‚¤ã‚³ãƒ³ãƒ”ãƒƒã‚«ãƒ¼ï¼ˆ@zunicornshift/mui-iconify-pickerï¼‰
  - ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆreact-color CirclePickerï¼‰
  - ãƒ•ã‚¡ãƒãƒ«ã‚¹ãƒ†ãƒ¼ã‚¸é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
  - ActionComboboxï¼ˆæ—¢å­˜ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠ + æ–°è¦å…¥åŠ›ï¼‰
  - CRUDæ“ä½œï¼ˆä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤ï¼‰
- [ ] E2Eãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ13ãƒ†ã‚¹ãƒˆï¼‰
  - Basic Settings: 6 tests
  - S3 Settings: 3 tests
  - SMTP Settings: 2 tests
  - Validation: 2 tests
- **å®Œäº†æ¡ä»¶**: è¨­å®šç”»é¢ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã”ã¨ã«ã‚¢ã‚¤ã‚³ãƒ³ã¨ã‚«ãƒ©ãƒ¼ã‚’è¨­å®šã§ãã€E2Eãƒ†ã‚¹ãƒˆãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹
- **ä¾å­˜**: Task 7.3
- **æ¨å®šæ™‚é–“**: 6.5æ™‚é–“ï¼ˆæ®‹ã‚Š: ç´„3.5æ™‚é–“ï¼‰
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3.3-activity-type-settings.md](.tmp/tasks/task-7.3.3-activity-type-settings.md)
- **æ³¨æ„**:
  - å®Ÿè£…ã¯2æ®µéšã«åˆ†å‰²ï¼š
    1. ã“ã®ã‚¿ã‚¹ã‚¯ï¼ˆ7.3.3ï¼‰: è¨­å®šç”»é¢ã¨ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆDBãƒ»APIå®Œäº†ã€UIãƒ»E2Eæ®‹ã‚Šï¼‰
    2. æ¬¡ã®ã‚¿ã‚¹ã‚¯ï¼ˆ7.3.4ï¼‰: `getActivityColor()`ã¨`getActivityIconName()`ã®å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å–å¾—ï¼‰
  - ActivityTimeline.tsxå†…ã®TODOã‚³ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§

### Task 7.3.4: ActivityTimelineå‹•çš„ã‚«ãƒ©ãƒ¼ãƒ»ã‚¢ã‚¤ã‚³ãƒ³é©ç”¨

- [ ] `getActivityColor()`å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰è¨­å®šã‚’å–å¾—ï¼‰
- [ ] `getActivityIconName()`å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰è¨­å®šã‚’å–å¾—ï¼‰
- [ ] `ActivityTimeline.tsx`ã«ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å‡¦ç†è¿½åŠ 
- [ ] ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å®Ÿè£…ï¼ˆåŒä¸€ãƒ†ãƒŠãƒ³ãƒˆå†…ã§è¨­å®šã‚’å†åˆ©ç”¨ï¼‰
- [ ] E2Eãƒ†ã‚¹ãƒˆä½œæˆï¼ˆã‚«ãƒ©ãƒ¼ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ã®å‹•çš„è¡¨ç¤ºç¢ºèªï¼‰
- **å®Œäº†æ¡ä»¶**: ActivityTimelineãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®šã«åŸºã¥ã„ã¦ã‚«ãƒ©ãƒ¼ã¨ã‚¢ã‚¤ã‚³ãƒ³ã‚’å‹•çš„ã«è¡¨ç¤ºã™ã‚‹
- **ä¾å­˜**: Task 7.3.3
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3.4-activity-timeline-dynamic.md](.tmp/tasks/task-7.3.4-activity-timeline-dynamic.md)

### Task 7.4: Campaignsãƒšãƒ¼ã‚¸å®Ÿè£…

- [ ] `app/routes/dashboard/campaigns.tsx`ä½œæˆ
- [ ] æ–½ç­–ãƒªã‚¹ãƒˆè¡¨ç¤º
- [ ] ROIè¡¨ç¤ºï¼ˆè‰²åˆ†ã‘: æ­£/è² ï¼‰
- [ ] æ–½ç­–è©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆ`/dashboard/campaigns/:id`ï¼‰
- **å®Œäº†æ¡ä»¶**: æ–½ç­–ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã€ROIãŒç¢ºèªã§ãã‚‹
- **ä¾å­˜**: Task 7.1, Task 5.4
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“

### Task 7.5: Funnelãƒšãƒ¼ã‚¸å®Ÿè£…

- [ ] `app/routes/dashboard/funnel.tsx`ä½œæˆ
- [ ] ãƒ•ã‚¡ãƒãƒ«ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤ºï¼ˆRechartsï¼‰
- [ ] ãƒ‰ãƒ­ãƒƒãƒ—ç‡è¡¨ç¤º
- [ ] æ™‚ç³»åˆ—ã‚°ãƒ©ãƒ•ï¼ˆæ—¥æ¬¡/é€±æ¬¡/æœˆæ¬¡ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ•ã‚¡ãƒãƒ«ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ã‚°ãƒ©ãƒ•ãŒæç”»ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 7.1, Task 6.3
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“

---

## Phase 8: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ï¼ˆåŸºç›¤ï¼‰

### Task 8.1: Plugin Loaderå®Ÿè£…

- [ ] `core/plugin-system/loader.ts`ä½œæˆ
- [ ] `discoverPlugins()`å®Ÿè£…ï¼ˆnode_modules/ã‚¹ã‚­ãƒ£ãƒ³ï¼‰
- [ ] `loadPlugin(packageName)`å®Ÿè£…
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆpackage.jsonã‹ã‚‰ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ¤œå‡ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 3.6
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“

### Task 8.2: Hook Registryå®Ÿè£…

- [ ] `core/plugin-system/hooks.ts`ä½œæˆ
- [ ] `registerHook(name, handler)`å®Ÿè£…
- [ ] `executeHook(name, args)`å®Ÿè£…
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ•ãƒƒã‚¯ã®å®Ÿè¡Œãƒ­ã‚°è¨˜éŒ²ï¼ˆplugin_logsãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ•ãƒƒã‚¯ãŒç™»éŒ²ãƒ»å®Ÿè¡Œã•ã‚Œã‚‹
- **ä¾å­˜**: Task 8.1
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“

### Task 8.3: Job Schedulerå®Ÿè£…ï¼ˆBullMQï¼‰

- [ ] BullMQã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] `core/plugin-system/scheduler.ts`ä½œæˆ
- [ ] `registerJob(name, cron, handler)`å®Ÿè£…
- [ ] Redisã‚­ãƒ¥ãƒ¼æ¥ç¶š
- [ ] Workerãƒ—ãƒ­ã‚»ã‚¹å®Ÿè£…
- **å®Œäº†æ¡ä»¶**: cronã‚¸ãƒ§ãƒ–ãŒç™»éŒ²ãƒ»å®Ÿè¡Œã•ã‚Œã‚‹
- **ä¾å­˜**: Task 8.2
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“

### Task 8.4: Pluginç®¡ç†APIå®Ÿè£…

- [ ] `app/routes/api/plugins.ts`ä½œæˆ
- [ ] `GET /api/plugins`ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¸€è¦§ï¼‰
- [ ] `POST /api/plugins/:id/enable`ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³æœ‰åŠ¹åŒ–ï¼‰
- [ ] `POST /api/plugins/:id/disable`ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç„¡åŠ¹åŒ–ï¼‰
- [ ] `GET /api/plugins/:id/logs`ï¼ˆå®Ÿè¡Œãƒ­ã‚°å–å¾—ï¼‰
- **å®Œäº†æ¡ä»¶**: APIãŒæ©Ÿèƒ½ã—ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæœ‰åŠ¹åŒ–/ç„¡åŠ¹åŒ–ã§ãã‚‹
- **ä¾å­˜**: Task 8.3
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“

---

## Phase 9: Google Analyticsãƒ—ãƒ©ã‚°ã‚¤ãƒ³å®Ÿè£…ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰

### Task 9.1: Google Analytics PluginåˆæœŸåŒ–

- [ ] `plugins/google_analytics/package.json`ä½œæˆ
- [ ] `plugins/google_analytics/src/index.ts`ä½œæˆ
- [ ] `definePlugin()`ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å®šç¾©
- [ ] Google Analytics SDKã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒãƒ“ãƒ«ãƒ‰ã§ãã‚‹
- **ä¾å­˜**: Task 8.1
- **æ¨å®šæ™‚é–“**: 2æ™‚é–“

### Task 9.2: Google AnalyticsåŒæœŸã‚¸ãƒ§ãƒ–å®Ÿè£…

 [ ] `syncGoogleAnalyticsData(ctx)`å®Ÿè£…
- [ ] GoogleAnalytics Capture APIã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆå–å¾—
- [ ] `distinct_id = click_id`ã§åŒ¿åãƒ‡ãƒ¼ã‚¿è­˜åˆ¥
- [ ] DRMã®Activityãƒ†ãƒ¼ãƒ–ãƒ«ã¨çµ±åˆ
- **å®Œäº†æ¡ä»¶**: åŒæœŸã‚¸ãƒ§ãƒ–ãŒå®Ÿè¡Œã•ã‚Œã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 9.1, Task 8.3
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“

### Task 9.3: GoogleAnalyticsè¨­å®šUIå®Ÿè£…

- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šç”»é¢ï¼ˆ`/dashboard/plugins/google_analytics`ï¼‰
- [ ] APIã‚­ãƒ¼ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- [ ] è¨­å®šä¿å­˜APIï¼ˆ`POST /api/plugins/google_analytics/config`ï¼‰
- **å®Œäº†æ¡ä»¶**: è¨­å®šç”»é¢ã‹ã‚‰APIã‚­ãƒ¼ã‚’ä¿å­˜ã§ãã‚‹
- **ä¾å­˜**: Task 9.1
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“

---

## è¿½åŠ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™º

- GitHubãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- KPIãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- Slacké€šçŸ¥ãƒ—ãƒ©ã‚°ã‚¤ãƒ³

---

## Phase 10: ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™

### Task 10.1: å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè£…

- [ ] Vitestã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] DRMã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- [ ] ROIã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- [ ] Funnelã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š
- **å®Œäº†æ¡ä»¶**: `pnpm test`ãŒæˆåŠŸã™ã‚‹
- **ä¾å­˜**: Task 4.1, Task 5.1, Task 6.1
- **æ¨å®šæ™‚é–“**: 6æ™‚é–“

### Task 10.2: çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…

- [ ] APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
- [ ] Redisã‚­ãƒ¥ãƒ¼ãƒ†ã‚¹ãƒˆ
- **å®Œäº†æ¡ä»¶**: çµ±åˆãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹
- **ä¾å­˜**: Task 4.4, Task 5.4, Task 6.3
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“

### Task 10.3: E2Eãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆPlaywrightï¼‰

- [ ] Playwrightã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
- [ ] Developerä½œæˆãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
- [ ] Campaignä½œæˆãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
- **å®Œäº†æ¡ä»¶**: E2Eãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹
- **ä¾å­˜**: Task 7.5
- **æ¨å®šæ™‚é–“**: 5æ™‚é–“

### Task 10.4: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ

- [ ] README.mdæ›´æ–°ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã€èµ·å‹•æ–¹æ³•ï¼‰
- [ ] APIä»•æ§˜æ›¸ä½œæˆï¼ˆOpenAPI/Swaggerãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºã‚¬ã‚¤ãƒ‰ä½œæˆ
- [ ] ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰ä½œæˆ
- **å®Œäº†æ¡ä»¶**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå®Œæˆã—ã€ç¬¬ä¸‰è€…ãŒç†è§£ã§ãã‚‹
- **ä¾å­˜**: Task 10.3
- **æ¨å®šæ™‚é–“**: 4æ™‚é–“

### Task 10.5: æœ¬ç•ªç’°å¢ƒç”¨è¨­å®š

- [ ] `docker-compose.prod.yml`ä½œæˆ
- [ ] ç’°å¢ƒå¤‰æ•°ã®æœ¬ç•ªç”¨è¨­å®š
- [ ] PostgreSQLå¤–éƒ¨æ¥ç¶šè¨­å®š
- [ ] Rediså¤–éƒ¨æ¥ç¶šè¨­å®š
- [ ] ãƒ­ã‚°è¨­å®šï¼ˆJSONå½¢å¼ï¼‰
- **å®Œäº†æ¡ä»¶**: æœ¬ç•ªç’°å¢ƒã§ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½
- **ä¾å­˜**: Task 10.4
- **æ¨å®šæ™‚é–“**: 3æ™‚é–“

---

## å®Ÿè£…é †åº

### Sprint 1ï¼ˆWeek 1ï¼‰: ç’°å¢ƒæ§‹ç¯‰ã¨ã‚¤ãƒ³ãƒ•ãƒ©åŸºç›¤
- Task 1.1 â†’ Task 1.2 â†’ Task 1.3 â†’ Task 1.4 â†’ Task 1.5
- Task 2.1 â†’ Task 2.2 â†’ Task 2.3 â†’ Task 2.4 â†’ Task 2.5
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: docker-compose up -dã§LPãƒ»è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹

### Sprint 2ï¼ˆWeek 2ï¼‰: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã€èªè¨¼ã€DRMã‚³ã‚¢
- Task 3.1 â†’ Task 3.2 â†’ Task 3.3 â†’ Task 3.4 â†’ Task 3.5 â†’ Task 3.6 â†’ Task 3.7 â†’ Task 3.8
- Task 4.1 â†’ Task 4.2 â†’ Task 4.3 â†’ Task 4.4 â†’ Task 4.5
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: èªè¨¼ãŒæ©Ÿèƒ½ã—ã€Developer APIãƒ»Activity APIãŒèªè¨¼ä»˜ãã§å‹•ä½œã™ã‚‹

### Sprint 3ï¼ˆWeek 3ï¼‰: ROIãƒ»ãƒ•ã‚¡ãƒãƒ«åˆ†æ
- Task 5.1 â†’ Task 5.2 â†’ Task 5.3 â†’ Task 5.4
- Task 6.1 â†’ Task 6.2 â†’ Task 6.3
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: Campaign APIãƒ»Funnel APIãŒæ©Ÿèƒ½ã™ã‚‹

### Sprint 4ï¼ˆWeek 4ï¼‰: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰UI
- Task 7.1 â†’ Task 7.2 â†’ Task 7.3 â†’ Task 7.4 â†’ Task 7.5
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã€å…¨æ©Ÿèƒ½ãŒæ“ä½œå¯èƒ½

### Sprint 5ï¼ˆWeek 5ï¼‰: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¨GoogleAnalyticsçµ±åˆ
- Task 8.1 â†’ Task 8.2 â†’ Task 8.3 â†’ Task 8.4
- Task 9.1 â†’ Task 9.2 â†’ Task 9.3
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã€GoogleAnalyticsåŒæœŸãŒå‹•ä½œã™ã‚‹

### Sprint 6ï¼ˆWeek 6ï¼‰: ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™
- Task 10.1 â†’ Task 10.2 â†’ Task 10.3 â†’ Task 10.4 â†’ Task 10.5
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: æœ¬ç•ªç’°å¢ƒã§MVPãŒå‹•ä½œã™ã‚‹

---

## ä¸¦è¡Œå®Ÿè¡Œå¯èƒ½ãªã‚¿ã‚¹ã‚¯

ä»¥ä¸‹ã®ã‚¿ã‚¹ã‚¯ã¯ä¾å­˜é–¢ä¿‚ãŒãªã„ãŸã‚ä¸¦è¡Œå®Ÿè¡Œå¯èƒ½ï¼š

- **Sprint 1**: Task 1.4ï¼ˆPostgreSQLï¼‰ã¨Task 1.5ï¼ˆRedisï¼‰
- **Sprint 1**: Task 2.3ï¼ˆè¦ç´„ï¼‰ã¨Task 2.4ï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ï¼‰
- **Sprint 2**: Task 3.2ï¼ˆDRMãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã¨Task 3.3ï¼ˆROIãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã¨Task 3.4ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- **Sprint 3**: Task 5.1-5.4ï¼ˆROIæ©Ÿèƒ½ï¼‰ã¨Task 6.1-6.3ï¼ˆFunnelæ©Ÿèƒ½ï¼‰
- **Sprint 5**: Task 9.2ï¼ˆGoogleAnalyticsåŒæœŸï¼‰ã¨Task 9.3ï¼ˆGoogleAnalyticsè¨­å®šUIï¼‰

---

## ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å¯¾ç­– |
|--------|------|
| **Dockerç’°å¢ƒã®è¤‡é›‘åŒ–** | docker-compose-dev.ymlã‚’åˆ†é›¢ã—ã€é–‹ç™ºç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã‚’æ˜ç¢ºã«åŒºåˆ¥ |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¤±æ•—** | ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å‰ã«å¿…ãšãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨æ„ |
| **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®è¤‡é›‘åŒ–** | æœ€åˆã¯GoogleAnalyticsãƒ—ãƒ©ã‚°ã‚¤ãƒ³1ã¤ã®ã¿å®Ÿè£…ã—ã€å‹•ä½œç¢ºèªã—ã¦ã‹ã‚‰æ‹¡å¼µ |
| **UI/UXã®è¤‡é›‘åŒ–** | MVPã§ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ã«å¾¹ã—ã€æ©Ÿèƒ½å„ªå…ˆã§å®Ÿè£… |
| **ãƒ†ã‚¹ãƒˆã®ä¸è¶³** | å„Sprintã®æœ€å¾Œã«å¿…ãšçµ±åˆãƒ†ã‚¹ãƒˆãƒ»E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ |

---

## æ³¨æ„äº‹é …

### ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½æ€§ã®ç¶­æŒ
- å„ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã€å¿…ãš`docker-compose up -d`ã§èµ·å‹•ç¢ºèª
- ã™ã¹ã¦ã®Sprintã®æœ€å¾Œã«ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèªã‚’å®Ÿæ–½
- å‹•ä½œã—ãªã„çŠ¶æ…‹ã§ã‚³ãƒŸãƒƒãƒˆã—ãªã„

### ã‚³ãƒŸãƒƒãƒˆå˜ä½
- å„ã‚¿ã‚¹ã‚¯ã¯1-4æ™‚é–“ã§å®Œçµã™ã‚‹å˜ä½
- ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«å¿…ãšã‚³ãƒŸãƒƒãƒˆ
- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯`feat(module): Task X.Y - èª¬æ˜`å½¢å¼

### å“è³ªãƒã‚§ãƒƒã‚¯
- ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«`pnpm lint`ã€`pnpm typecheck`ã‚’å®Ÿè¡Œ
- ãƒ†ã‚¹ãƒˆãŒå¿…è¦ãªã‚¿ã‚¹ã‚¯ã¯å¿…ãšå˜ä½“ãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…
- UIã‚¿ã‚¹ã‚¯ã¯E2Eãƒ†ã‚¹ãƒˆã§å‹•ä½œç¢ºèª

### ã‚·ãƒ³ãƒ—ãƒ«ã•ã®ç¶­æŒ
- è¤‡é›‘ãªå®Ÿè£…ã¯é¿ã‘ã€æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã§æ©Ÿèƒ½ã‚’å®Ÿç¾
- æŠ½è±¡åŒ–ã¯2å›ç›®ä»¥é™ã«å®Ÿæ–½ï¼ˆYAGNIåŸå‰‡ï¼‰
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ç°¡æ½”ã«ã€ã‚³ãƒ¼ãƒ‰ã§è‡ªæ˜ãªéƒ¨åˆ†ã¯çœç•¥

---

## å®Ÿè£…é–‹å§‹ã‚¬ã‚¤ãƒ‰

### 1. æœ€åˆã®ã‚¿ã‚¹ã‚¯ã‹ã‚‰é †æ¬¡å®Ÿè£…
- Task 1.1ã‹ã‚‰é–‹å§‹ã—ã€ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèªã—ãªãŒã‚‰é€²ã‚ã‚‹
- å„ã‚¿ã‚¹ã‚¯ã®å®Œäº†æ¡ä»¶ã‚’å¿…ãšç¢ºèª

### 2. TodoWriteã§ã‚¿ã‚¹ã‚¯ç®¡ç†
- å„ã‚¿ã‚¹ã‚¯ã®é–‹å§‹æ™‚ã«TodoWriteã§`in_progress`ã«æ›´æ–°
- å®Œäº†æ™‚ã¯`completed`ã«æ›´æ–°
- å•é¡Œç™ºç”Ÿæ™‚ã¯é€Ÿã‚„ã‹ã«å ±å‘Š

### 3. ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèªã‚’å¾¹åº•
- å„Sprintã®æœ€å¾Œã«å¿…ãšãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª
- `docker-compose up -d`ã§ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œç¢ºèª

### 4. å•é¡Œç™ºç”Ÿæ™‚ã®å¯¾å¿œ
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è©³ç´°ã«è¨˜éŒ²
- ãƒ­ã‚°ã‚’ç¢ºèªï¼ˆ`docker-compose logs`ï¼‰
- å¿…è¦ã«å¿œã˜ã¦ã‚¿ã‚¹ã‚¯ã‚’åˆ†å‰²ãƒ»è¿½åŠ 

---

**MVPå®Œæˆç›®æ¨™**: 6é€±é–“å¾Œ
**æœ€åˆã®ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½æ—¥**: Sprint 1çµ‚äº†æ™‚ï¼ˆWeek 1ï¼‰
