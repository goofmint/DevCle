# ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ - DRMï¼ˆDevRel Managementï¼‰MVP é–‹ç™º

**Version:** 1.0
**Based on:** requirements.md v2.2, design.md v2.5
**Strategy:** ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™º - å¸¸ã«ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ãªçŠ¶æ…‹ã‚’ç¶­æŒ

---

## æ¦‚è¦

ã‚µãƒ¼ãƒ“ã‚¹åã¯ `DevCle`ï¼ˆDevRel + Circle ã®é€ èªï¼‰ã€‚æœ¬ç•ªç’°å¢ƒã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ `devcle.com`ã€‚é–‹ç™ºç’°å¢ƒã¯ `devcle.test`ã€‚

- **ç·ã‚¿ã‚¹ã‚¯æ•°**: 48 ã‚¿ã‚¹ã‚¯
- **æ¨å®šä½œæ¥­æ™‚é–“**: 4-6 é€±é–“ï¼ˆ1 åï¼‰
- **å„ªå…ˆåº¦**: é«˜
- **é–‹ç™ºæ–¹é‡**:
  - docker-compose æ§‹ç¯‰ã‚’æœ€å„ªå…ˆ
  - å„ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã«ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèªå¯èƒ½ãªçŠ¶æ…‹ã‚’ç¶­æŒ
  - MVP ã‹ã‚‰æ®µéšçš„ã«æ©Ÿèƒ½è¿½åŠ 
  - LPãƒ»è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã‚‚åˆæœŸã‹ã‚‰çµ„ã¿è¾¼ã¿

---

## Phase 1: ç’°å¢ƒæ§‹ç¯‰ã¨ã‚¤ãƒ³ãƒ•ãƒ©åŸºç›¤ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ãªæœ€å°æ§‹æˆï¼‰

### Task 1.1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸæ§‹é€ ã¨ core ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ…

- [x] `core/`ã® package.json ä½œæˆï¼ˆRemix, TypeScriptï¼‰
- [x] TypeScript strict è¨­å®šï¼ˆ`exactOptionalPropertyTypes`å«ã‚€ï¼‰
- [x] ESLint 9 flat config è¨­å®š
- [x] Prettier è¨­å®š
- [x] `.gitignore`ä½œæˆ
- **å®Œäº†æ¡ä»¶**: `pnpm install`ãŒ core ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§æˆåŠŸ
- **ä¾å­˜**: ãªã—
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-1.1-monorepo-setup.md](.tmp/tasks/task-1.1-monorepo-setup.md)
- **æ³¨æ„**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆposthog ç­‰ï¼‰ã¯ä¸è¦ã€‚core ã®ã¿æ§‹ç¯‰ã€‚
- **å®Œäº†æ—¥**: 2025-10-10

### Task 1.2: Docker Compose æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ âœ…

- [x] `docker-compose.yml`ä½œæˆï¼ˆnginx, core, postgres, redisï¼‰
- [x] `docker-compose-dev.yml`ä½œæˆï¼ˆé–‹ç™ºç’°å¢ƒç”¨ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
- [x] `core/Dockerfile`ä½œæˆï¼ˆNode.js 20, pnpmï¼‰
- [x] `.dockerignore`ä½œæˆ
- [x] `.env.example`ä½œæˆï¼ˆç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
- **å®Œäº†æ¡ä»¶**: `docker-compose up -d`ã§ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•
- **ä¾å­˜**: Task 1.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-11

### Task 1.3: nginx è¨­å®šã¨ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚· âœ…

- [x] `nginx/nginx.conf`ä½œæˆ
- [x] HTTPS ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆè¨­å®šï¼ˆé–‹ç™ºç’°å¢ƒãƒ»æœ¬ç•ªç’°å¢ƒå…±é€šï¼‰
- [x] é™çš„ãƒ•ã‚¡ã‚¤ãƒ«é…ä¿¡è¨­å®šï¼ˆ`/public`ï¼‰
- [x] Remix ã‚¢ãƒ—ãƒªã¸ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®š
- [x] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆ`/health`ï¼‰
- **å®Œäº†æ¡ä»¶**: nginx ãŒèµ·å‹•ã—ã€Remix ã‚¢ãƒ—ãƒªã«ãƒ—ãƒ­ã‚­ã‚·ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 1.2
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-1.3-nginx-setup.md](.tmp/tasks/task-1.3-nginx-setup.md)
- **å®Œäº†æ—¥**: 2025-10-11

### Task 1.4: PostgreSQL åˆæœŸè¨­å®š âœ…

- [x] åˆæœŸåŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ`infra/postgres/init.sql`ï¼‰
- [x] pgcrypto æ‹¡å¼µã®æœ‰åŠ¹åŒ–
- [x] ãƒ†ãƒŠãƒ³ãƒˆç”¨ RLS ãƒãƒªã‚·ãƒ¼ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼ˆ`infra/postgres/rls-template.sql`ï¼‰
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šï¼ˆdocker volumeï¼‰
- **å®Œäº†æ¡ä»¶**: PostgreSQL ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã€æ¥ç¶šå¯èƒ½
- **ä¾å­˜**: Task 1.2
- **æ¨å®šæ™‚é–“**: 1.5 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-1.4-postgres-init.md](.tmp/tasks/task-1.4-postgres-init.md)
- **å®Œäº†æ—¥**: 2025-10-11

### Task 1.5: Redis åˆæœŸè¨­å®š âœ…

- [x] `redis/redis.conf`ä½œæˆ
- [x] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼è¨­å®š
- [x] ãƒ¡ãƒ¢ãƒªä¸Šé™ãƒ»eviction ãƒãƒªã‚·ãƒ¼è¨­å®š
- [x] æ°¸ç¶šåŒ–è¨­å®šï¼ˆAOFï¼‰
- **å®Œäº†æ¡ä»¶**: Redis ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã€æ¥ç¶šå¯èƒ½
- **ä¾å­˜**: Task 1.2
- **æ¨å®šæ™‚é–“**: 1 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-1.5-redis-init.md](.tmp/tasks/task-1.5-redis-init.md)
- **å®Œäº†æ—¥**: 2025-10-11

---

## Phase 2: Remix ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åŸºç›¤ï¼ˆæœ€å°é™ã® UIï¼‰

### Task 2.1: Remix åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ…

- [x] Remix v2 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆ`core/`ï¼‰
- [x] TailwindCSS è¨­å®š
- [x] ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä½œæˆï¼ˆ`app/root.tsx`ï¼‰
- [x] ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªè¨­å®š
- [x] ç’°å¢ƒå¤‰æ•°èª­ã¿è¾¼ã¿ï¼ˆ`DATABASE_URL`, `REDIS_URL`ï¼‰
- **å®Œäº†æ¡ä»¶**: Remix ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã€ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 1.2
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-11

### Task 2.2: LPï¼ˆãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼‰ä½œæˆ âœ…

- [x] `app/routes/_index.tsx`ä½œæˆ
- [x] ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã€CTAï¼‰
- [x] æ©Ÿèƒ½ç´¹ä»‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆDRM, ROI, Funnelï¼‰
- [x] ãƒ‡ãƒ¢ãƒªãƒ³ã‚¯ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒªãƒ³ã‚¯
- [x] ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆè¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒªãƒ³ã‚¯ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ‡ã‚¶ã‚¤ãƒ³ãŒæ•´ã£ã¦ã„ã‚‹
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-12

### Task 2.3: åˆ©ç”¨è¦ç´„ãƒšãƒ¼ã‚¸ä½œæˆ âœ…

- [x] `app/routes/terms.tsx`ä½œæˆ
- [x] åˆ©ç”¨è¦ç´„ã®æ–‡ç« ä½œæˆï¼ˆOSS ç‰ˆãƒ»SaaS ç‰ˆå…±é€šï¼‰
- [x] TailwindCSS ã§ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨
- **å®Œäº†æ¡ä»¶**: `/terms`ã§ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-2.3-terms-page.md](.tmp/tasks/task-2.3-terms-page.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 2.4: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒšãƒ¼ã‚¸ä½œæˆ âœ…

- [x] `app/routes/privacy.mdx`ä½œæˆ
- [x] ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®æ–‡ç« ä½œæˆï¼ˆGDPR/CCPA å¯¾å¿œï¼‰
- [x] ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»åˆ©ç”¨ãƒ»ä¿ç®¡æ–¹é‡ã®è¨˜è¼‰
- **å®Œäº†æ¡ä»¶**: `/privacy`ã§ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-2.4-privacy-page.md](.tmp/tasks/task-2.4-privacy-page.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 2.5: ãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°ãƒšãƒ¼ã‚¸ä½œæˆ âœ…

- [x] `app/routes/pricing.mdx`ä½œæˆ
- [x] æ–™é‡‘è¡¨ä½œæˆ
  - OSS ç‰ˆï¼ˆç„¡æ–™ï¼‰
    - ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆ
    - åŸºæœ¬ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
  - SaaS ç‰ˆï¼ˆæœ‰æ–™ï¼‰
    - Basic, Team, Enterprise ãƒ—ãƒ©ãƒ³
- [x] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼ˆTailwind v4 @custom-variant è¨­å®šï¼‰
- [x] E2E ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ18 ãƒ†ã‚¹ãƒˆï¼‰
- **å®Œäº†æ¡ä»¶**: `/pricing`ã§ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-12

---

## Phase 3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã¨å®Ÿè£…

### Task 3.1: Drizzle ORM ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ…

- [x] `drizzle-orm`, `drizzle-kit`ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [x] `drizzle.config.ts`ä½œæˆ
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šè¨­å®šï¼ˆ`core/db/connection.ts`ï¼‰
- [x] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
- **å®Œäº†æ¡ä»¶**: Drizzle ãŒåˆæœŸåŒ–ã•ã‚Œã€DB æ¥ç¶šç¢ºèªã§ãã‚‹
- **ä¾å­˜**: Task 1.4
- **æ¨å®šæ™‚é–“**: 1.5 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.1-drizzle-setup.md](.tmp/tasks/task-3.1-drizzle-setup.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 3.2: ã‚³ã‚¢ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒå®šç¾© âœ…

- [x] 7 ã¤ã®ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆ25 ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
  - admin.ts: tenants, users, api_keys, system_settings, notifications
  - core.ts: organizations, developers, accounts, developer_identifiers, developer_merge_logs
  - campaigns.ts: campaigns, budgets, resources
  - activities.ts: activities, activity_campaigns
  - plugins.ts: plugins, plugin_runs, plugin_events_raw, import_jobs, shortlinks
  - analytics.ts: developer_stats, campaign_stats, funnel_stages, activity_funnel_map
  - migrations.ts: schema_migrations
- [x] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ SQL ç”Ÿæˆã¨é©ç”¨
- [x] PostgreSQL æ‹¡å¼µæ©Ÿèƒ½ï¼ˆuuid-ossp, citextï¼‰è¿½åŠ 
- [x] å…¨ 25 ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆç¢ºèª
- **å®Œäº†æ¡ä»¶**: ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ãŒ TypeScript ã‚¨ãƒ©ãƒ¼ãªããƒ“ãƒ«ãƒ‰ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 3.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.2-core-schema.md](.tmp/tasks/task-3.2-core-schema.md)
- **å®Œäº†æ—¥**: 2025-10-12
- **æ³¨æ„**: Task 3.3, 3.4 ã®å†…å®¹ã‚‚å«ã‚ã¦å…¨ 25 ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å®Ÿè£…å®Œäº†

### Task 3.3: ROI/Campaign/Budget ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒ âœ…

- [x] Task 3.2 ã§å®Ÿè£…æ¸ˆã¿ï¼ˆcampaigns.tsï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ“ãƒ«ãƒ‰ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 3.2
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-12ï¼ˆTask 3.2 ã«çµ±åˆï¼‰

### Task 3.4: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ¼ãƒ âœ…

- [x] Task 3.2 ã§å®Ÿè£…æ¸ˆã¿ï¼ˆplugins.tsï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ“ãƒ«ãƒ‰ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 3.2
- **æ¨å®šæ™‚é–“**: 1 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-12ï¼ˆTask 3.2 ã«çµ±åˆï¼‰

### Task 3.5: ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã¨ RLS è¨­å®š âœ…

- [x] `pnpm db:generate`ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
- [x] `pnpm db:migrate`ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- [x] PostgreSQL RLS æœ‰åŠ¹åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆï¼ˆ`infra/postgres/rls.sql`ï¼‰
- [x] å„ãƒ†ãƒ¼ãƒ–ãƒ«ã« RLS ãƒãƒªã‚·ãƒ¼è¿½åŠ 
- **å®Œäº†æ¡ä»¶**: ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæˆåŠŸã—ã€RLS ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 3.4
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.5-rls-setup.md](.tmp/tasks/task-3.5-rls-setup.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 3.6: ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ä½œæˆ âœ…

- [x] `core/db/seed.ts`ä½œæˆï¼ˆbcryptã€UUIDã€idempotency å¯¾å¿œï¼‰
- [x] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒŠãƒ³ãƒˆï¼ˆ`tenant_id = 'default'`ï¼‰ä½œæˆ
- [x] ãƒ†ã‚¹ãƒˆç”¨ Developerãƒ»Organization ä½œæˆï¼ˆ5 developers, 3 organizationsï¼‰
- [x] ãƒ†ã‚¹ãƒˆç”¨ Activity ä½œæˆï¼ˆ10 activitiesï¼‰
- [x] Funnel stages master dataï¼ˆ4 stagesï¼‰
- [x] Activity funnel mappingsï¼ˆ11 mappingsï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ`core/db/seed.test.ts` - 22 testsï¼‰
- **å®Œäº†æ¡ä»¶**: `pnpm db:seed`ã§ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ãŒæŠ•å…¥ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 3.5
- **æ¨å®šæ™‚é–“**: 1.5 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.6-seed-data.md](.tmp/tasks/task-3.6-seed-data.md)
- **å®Œäº†æ—¥**: 2025-10-12
- **æ³¨æ„**: RLS ãƒãƒªã‚·ãƒ¼ã¨ã®çµ±åˆã¯ãƒ†ãƒŠãƒ³ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ API å®Ÿè£…å¾Œã«å¯¾å¿œ

### Task 3.7: ãƒ†ãƒŠãƒ³ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç† API å®Ÿè£… âœ…

- [x] `core/db/connection.ts`ã«ãƒ†ãƒŠãƒ³ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¨­å®š API è¿½åŠ ï¼ˆsetTenantContext, getTenantContext, clearTenantContextï¼‰
- [x] RLS ãƒãƒªã‚·ãƒ¼ã®ä¿®æ­£ï¼ˆFORCE RLS + NULL-safe æ¡ä»¶ï¼‰
- [x] ã‚·ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã® RLS å¯¾å¿œï¼ˆä¸€æ™‚çš„ãªç„¡åŠ¹åŒ–ï¼‰
- [x] ã‚·ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å†ªç­‰æ€§ä¿®æ­£ï¼ˆå›ºå®š UUID ä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: `pnpm db:seed`ã§ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ãŒæŠ•å…¥ã§ãã‚‹ï¼ˆRLS ãƒãƒªã‚·ãƒ¼ã‚’æº€ãŸã—ãªãŒã‚‰ï¼‰ âœ“
- **ä¾å­˜**: Task 3.5, Task 3.6
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.7-tenant-context-api.md](.tmp/tasks/task-3.7-tenant-context-api.md)
- **å®Œäº†æ—¥**: 2025-10-12

### Task 3.8: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£… âœ…

- [x] Remix Sessions ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆCookie-basedï¼‰
- [x] `core/services/auth.service.ts`ä½œæˆ
- [x] `login(email, password)`å®Ÿè£…ï¼ˆbcrypt ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼ï¼‰
- [x] `logout()`å®Ÿè£…ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ç ´æ£„ï¼‰
- [x] `getCurrentUser(request)`å®Ÿè£…ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—ï¼‰
- [x] `app/routes/login.tsx`ä½œæˆï¼ˆãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã€Header/Footer/ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰
- [x] `app/routes/logout.ts`ä½œæˆï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†ã€POST-onlyï¼‰
- [x] èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å®Ÿè£…ï¼ˆ`requireAuth()`, `getCurrentUser()`ï¼‰
- [x] ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ãƒ†ãƒŠãƒ³ãƒˆ ID ã®ç´ä»˜ã‘
- [x] E2E ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ6 testsã€å…¨ 49 E2E ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ï¼‰
- [x] RLS è¨­è¨ˆã®ä¿®æ­£ï¼ˆtenants ã¯ RLS æœ‰åŠ¹ã€users ã¯ RLS ç„¡åŠ¹ã§èªè¨¼åŸºç›¤åŒ–ï¼‰
- [x] Idempotent seeding å®Ÿè£…ï¼ˆTRUNCATE CASCADEï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãŒæ©Ÿèƒ½ã—ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒä¿æŒã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 3.7
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-13
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-3.8-authentication.md](.tmp/tasks/task-3.8-authentication.md)
- **æ³¨æ„**:
  - users ãƒ†ãƒ¼ãƒ–ãƒ«ã¯æ—¢ã« Task 3.2 ã§å®Ÿè£…æ¸ˆã¿ï¼ˆadmin.tsï¼‰
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ bcrypt ã§ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆconstant-time comparisonï¼‰
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ Cookie ã¯`httpOnly`, `secure`, `sameSite`è¨­å®š
  - ãƒ†ã‚¹ãƒˆç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼: test@example.com / password123ï¼ˆmemberï¼‰ã€admin@example.com / admin123456ï¼ˆadminï¼‰
  - é‡è¦ãªä¿®æ­£: `/auth/login` â†’ `/login`ã€RLS è¨­è¨ˆã®ä¿®æ­£ï¼ˆusers table ã¯ RLS ç„¡åŠ¹ï¼‰

---

## Phase 4: DRM ã‚³ã‚¢æ©Ÿèƒ½å®Ÿè£…ï¼ˆMVPï¼‰

### Task 4.1: DRM ã‚µãƒ¼ãƒ“ã‚¹åŸºç›¤å®Ÿè£… âœ…

- [x] `core/services/drm.service.ts`ä½œæˆ
- [x] `createDeveloper()`å®Ÿè£…
- [x] `getDeveloper()`å®Ÿè£…
- [x] `listDevelopers()`å®Ÿè£…ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰
- [x] `updateDeveloper()`å®Ÿè£…ï¼ˆUPDATE æ“ä½œï¼‰
- [x] `deleteDeveloper()`å®Ÿè£…ï¼ˆDELETE æ“ä½œï¼‰
- [x] Zod ã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- [x] ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…ï¼ˆlistDevelopersï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ24 testsï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 3.6
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.1-drm-service.md](.tmp/tasks/task-4.1-drm-service.md)
- **å®Œäº†æ—¥**: 2025-10-13

### Task 4.2: Developer API å®Ÿè£… âœ…

- [x] `app/routes/api/developers.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/developers`ï¼ˆä¸€è¦§å–å¾—ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚£ãƒ«ã‚¿ã€ã‚½ãƒ¼ãƒˆï¼‰
- [x] `POST /api/developers`ï¼ˆæ–°è¦ä½œæˆï¼‰
- [x] `app/routes/api/developers.$id.ts`ä½œæˆ
- [x] `GET /api/developers/:id`ï¼ˆè©³ç´°å–å¾—ï¼‰
- [x] `PUT /api/developers/:id`ï¼ˆæ›´æ–°ï¼‰
- [x] `DELETE /api/developers/:id`ï¼ˆå‰Šé™¤ï¼‰
- [x] èªè¨¼ãƒã‚§ãƒƒã‚¯ï¼ˆTask 3.8 ã® requireAuth()ä½¿ç”¨ï¼‰
- [x] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆ400, 401, 404, 405, 409, 500ï¼‰
- **å®Œäº†æ¡ä»¶**: API ãŒçµ±åˆãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 3.8, Task 4.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.2-developer-api.md](.tmp/tasks/task-4.2-developer-api.md)
- **å®Œäº†æ—¥**: 2025-10-13

### Task 4.3: ID çµ±åˆæ©Ÿèƒ½å®Ÿè£… âœ…

- [x] `resolveDeveloper()`å®Ÿè£…ï¼ˆidentifiers ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰æ¤œç´¢ï¼‰
- [x] `mergeDevelopers()`å®Ÿè£…ï¼ˆé‡è¤‡é–‹ç™ºè€…ã®çµ±åˆï¼‰
- [x] ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»SNS ID ã‹ã‚‰ã®ãƒãƒƒãƒãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯
- **å®Œäº†æ¡ä»¶**: ID çµ±åˆãƒ­ã‚¸ãƒƒã‚¯ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 4.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-13
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.3-id-integration.md](.tmp/tasks/task-4.3-id-integration.md)
- **æ³¨æ„**:
  - identity.service.ts ã‚’ 3 ã¤ã«åˆ†å‰²ï¼ˆidentity-resolver.service.ts, identity-merge.service.ts, identity-identifiers.service.tsï¼‰
  - RLS å¯¾å¿œï¼šwithTenantContext()ãƒ˜ãƒ«ãƒ‘ãƒ¼ä½¿ç”¨ï¼ˆæœ¬ç•ªç’°å¢ƒã® connection pooling å¯¾å¿œï¼‰
  - å…¨ 160 ãƒ†ã‚¹ãƒˆæˆåŠŸ

### Task 4.4: Activity ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£… âœ…

- [x] `core/services/activity.service.ts`ä½œæˆï¼ˆbarrel fileï¼‰
- [x] `createActivity()`å®Ÿè£…ï¼ˆCRUD - Createï¼‰
- [x] `getActivity()`å®Ÿè£…ï¼ˆCRUD - Read singleï¼‰
- [x] `listActivities()`å®Ÿè£…ï¼ˆCRUD - Readã€developerId/accountId/resourceId/action/source/æ—¥ä»˜ç¯„å›²ã§ãƒ•ã‚£ãƒ«ã‚¿ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚½ãƒ¼ãƒˆï¼‰
- [x] `updateActivity()`å®Ÿè£…ï¼ˆCRUD - Updateã€éƒ¨åˆ†æ›´æ–°å¯¾å¿œï¼‰
- [x] `deleteActivity()`å®Ÿè£…ï¼ˆCRUD - Deleteã€GDPR å¯¾å¿œï¼‰
- [x] Zod ã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCreateActivitySchema, ListActivitiesSchema, UpdateActivitySchemaï¼‰
- [x] ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆactivity-create/get/list/update/delete.service.tsã€å„ 150 è¡Œä»¥ä¸‹ï¼‰
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®æ­£ï¼ˆrace condition å¯¾ç­–ã€tenant scopingã€empty update guardï¼‰
- [x] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¿®æ­£ï¼ˆdate coercionã€date range validationï¼‰
- [x] UUID é–¢æ•°çµ±ä¸€ï¼ˆuuid-ossp extension è¿½åŠ ï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ25 testsã€ãƒ¢ãƒƒã‚¯ä¸ä½¿ç”¨ã€å…¨ã¦é€šéï¼‰
- [x] TypeScript ã‚¨ãƒ©ãƒ¼è§£æ¶ˆï¼ˆas any/unknown ä¸ä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 4.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.4-activity-service.md](.tmp/tasks/task-4.4-activity-service.md)
- **å®Œäº†æ—¥**: 2025-10-13
- **æ³¨æ„**:
  - Deduplication æ©Ÿèƒ½å®Ÿè£…ï¼ˆdedupKey with unique constraintï¼‰
  - Confidence score validation (0.0-1.0)
  - Event sourcing principlesï¼ˆActivities are event logsï¼‰
  - Drizzle ã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ãƒ¼ã®å‹å®‰å…¨æ€§å¯¾å¿œï¼ˆãƒã‚§ãƒ¼ãƒ³å½¢å¼ï¼‰
  - Critical security fixes implemented (atomic operations, tenant scoping)
  - Date validation and coercion for ISO string support

### Task 4.5: Activity API å®Ÿè£… âœ…

- [x] `app/routes/api/activities.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/activities?developer_id=xxx`ï¼ˆä¸€è¦§å–å¾—ï¼‰
- [x] `POST /api/activities`ï¼ˆæ–°è¦ç™»éŒ²ï¼‰
- [x] `GET /api/activities/:id`ï¼ˆè©³ç´°å–å¾—ï¼‰
- [x] `PUT /api/activities/:id`ï¼ˆæ›´æ–°ï¼‰
- [x] `DELETE /api/activities/:id`ï¼ˆå‰Šé™¤ï¼‰
- [x] èªè¨¼ãƒã‚§ãƒƒã‚¯ï¼ˆTask 3.8 ã® requireAuth()ä½¿ç”¨ï¼‰
- [x] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆ400, 401, 404, 409, 500ï¼‰
- [x] ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆlist/create/get/update/delete.handler.tsã€å„ 150 è¡Œä»¥ä¸‹ï¼‰
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®æ­£ï¼ˆrequest body guardã€date validationã€COUNT æœ€é©åŒ–ï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ26 testsã€ãƒ¢ãƒƒã‚¯ä¸ä½¿ç”¨ã€å…¨ã¦é€šéï¼‰
- [x] TypeScript ã‚¨ãƒ©ãƒ¼è§£æ¶ˆï¼ˆas any/unknown ä¸ä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: API ãŒçµ±åˆãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 3.8, Task 4.4
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-4.5-activity-api.md](.tmp/tasks/task-4.5-activity-api.md)
- **å®Œäº†æ—¥**: 2025-10-13
- **æ³¨æ„**:
  - Event sourcing principlesï¼ˆActivities are event logsï¼‰
  - UPDATE/DELETE ã¯æ¥µã‚ã¦ç¨€ãªæ“ä½œï¼ˆGDPR å¯¾å¿œç­‰ï¼‰
  - Deduplication via dedupKeyï¼ˆ409 Conflict responseï¼‰
  - ãƒãƒ³ãƒ‰ãƒ©ãƒ¼åˆ†é›¢ã§ã‚³ãƒ¼ãƒ‰å¯èª­æ€§å‘ä¸Š
  - COUNT aggregate ã‚¯ã‚¨ãƒªã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

---

## Phase 5: ROI åˆ†ææ©Ÿèƒ½å®Ÿè£…ï¼ˆMVPï¼‰

### Task 5.1: ROI ã‚µãƒ¼ãƒ“ã‚¹åŸºç›¤å®Ÿè£… âœ…

- [x] `core/services/campaign.service.ts`ä½œæˆï¼ˆbarrel fileï¼‰
- [x] `createCampaign()`å®Ÿè£…ï¼ˆCampaign ä½œæˆï¼‰
- [x] `getCampaign()`å®Ÿè£…ï¼ˆCampaign è©³ç´°å–å¾—ï¼‰
- [x] `listCampaigns()`å®Ÿè£…ï¼ˆCampaign ä¸€è¦§å–å¾—ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆï¼‰
- [x] `updateCampaign()`å®Ÿè£…ï¼ˆCampaign æ›´æ–°ï¼‰
- [x] `deleteCampaign()`å®Ÿè£…ï¼ˆCampaign å‰Šé™¤ï¼‰
- [x] Zod ã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCreateCampaignSchema, ListCampaignsSchema, UpdateCampaignSchemaï¼‰
- [x] RLS å¯¾å¿œï¼ˆwithTenantContext ä½¿ç”¨ï¼‰
- [x] ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆcampaign.schemas.ts, campaign-{create,get,list,update,delete}.service.tsã€å„ 150 è¡Œä»¥ä¸‹ï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ22 ãƒ†ã‚¹ãƒˆã€ãƒ¢ãƒƒã‚¯ä¸ä½¿ç”¨ã€å…¨ã¦é€šéï¼‰
- [x] TypeScript ã‚¨ãƒ©ãƒ¼è§£æ¶ˆï¼ˆ`as any`/`as unknown`ä¸ä½¿ç”¨ï¼‰
- [x] Date å‹ â†’ PostgreSQL date string å¤‰æ›ï¼ˆ'YYYY-MM-DD'ï¼‰
- [x] CASCADE å‰Šé™¤å®Ÿè£…ï¼ˆbudgets å‰Šé™¤ã€resources orphan åŒ–ï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 3.6
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-5.1-roi-service.md](.tmp/tasks/task-5.1-roi-service.md)
- **å®Œäº†æ—¥**: 2025-10-14

### Task 5.2: ROI è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£… âœ…

- [x] `calculateROI(campaignId)`å®Ÿè£…
- [x] `getCampaignCost()`å®Ÿè£…ï¼ˆbudgets ã‹ã‚‰ SUM é›†è¨ˆï¼‰
- [x] `getCampaignValue()`å®Ÿè£…ï¼ˆactivities ã® value åˆ—ã‹ã‚‰ SUM é›†è¨ˆï¼‰
- [x] ROI è¨ˆç®—å¼ã®å®Ÿè£…ï¼ˆ`(åŠ¹æœå€¤ - æŠ•è³‡é¡) / æŠ•è³‡é¡ * 100`ï¼‰
- [x] Zod ã‚¹ã‚­ãƒ¼ãƒã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCampaignROISchemaï¼‰
- [x] ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆroi.schemas.ts, roi-{cost,value,calculate}.service.tsã€å„ 150 è¡Œä»¥ä¸‹ï¼‰
- [x] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ16 ãƒ†ã‚¹ãƒˆã€ãƒ¢ãƒƒã‚¯ä¸ä½¿ç”¨ã€å…¨ã¦é€šéï¼‰
- [x] TypeScript ã‚¨ãƒ©ãƒ¼è§£æ¶ˆï¼ˆ`as any`/`as unknown`ä¸ä½¿ç”¨ï¼‰
- [x] activities.value ã‚«ãƒ©ãƒ è¿½åŠ ï¼ˆmigration 0002ï¼‰
- [x] RLS å¯¾å¿œï¼ˆwithTenantContext ä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 5.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-5.2-roi-calculation.md](.tmp/tasks/task-5.2-roi-calculation.md)
- **å®Œäº†æ—¥**: 2025-10-14

### Task 5.3: çŸ­ç¸® URL æ©Ÿèƒ½å®Ÿè£… âœ…

- [x] `generateShortURL(campaignId, target)`å®Ÿè£…
- [x] çŸ­ç¸® ID ç”Ÿæˆï¼ˆnanoid ãªã©ï¼‰
- [x] Clicks ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ç™»éŒ²
- [x] ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ API å®Ÿè£…ï¼ˆ`app/routes/c/$shortId.ts`ï¼‰
- **å®Œäº†æ¡ä»¶**: çŸ­ç¸® URL ãŒæ©Ÿèƒ½ã—ã€ã‚¯ãƒªãƒƒã‚¯æ•°ãŒã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 5.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-5.3-shorturl.md](.tmp/tasks/task-5.3-shorturl.md)
- **å®Œäº†æ—¥**: 2025-10-15

### Task 5.4: Campaign API å®Ÿè£… âœ…

- [x] `app/routes/api/campaigns.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/campaigns`ï¼ˆä¸€è¦§å–å¾—ï¼‰
- [x] `POST /api/campaigns`ï¼ˆæ–°è¦ä½œæˆï¼‰
- [x] `app/routes/api/campaigns.$id.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/campaigns/:id`ï¼ˆè©³ç´°å–å¾—ï¼‰
- [x] `PUT /api/campaigns/:id`ï¼ˆæ›´æ–°ï¼‰
- [x] `DELETE /api/campaigns/:id`ï¼ˆå‰Šé™¤ï¼‰
- [x] `app/routes/api/campaigns.$id.roi.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/campaigns/:id/roi`ï¼ˆROI å–å¾—ï¼‰
- **å®Œäº†æ¡ä»¶**: CRUD å®Œå…¨å¯¾å¿œã® API ãŒçµ±åˆãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 5.2, Task 5.3
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-5.4-campaign-api.md](.tmp/tasks/task-5.4-campaign-api.md)
- **å®Œäº†æ—¥**: 2025-10-16

---

## Phase 6: ãƒ•ã‚¡ãƒãƒ«åˆ†ææ©Ÿèƒ½å®Ÿè£…ï¼ˆMVPï¼‰

### Task 6.1: Funnel ã‚µãƒ¼ãƒ“ã‚¹åŸºç›¤å®Ÿè£… âœ…

- [x] `core/services/funnel.service.ts`ä½œæˆ
- [x] `classifyStage(activity)`å®Ÿè£…ï¼ˆAwareness/Engagement/Adoption/Advocacy åˆ¤å®šï¼‰
- [x] `getFunnelStats()`å®Ÿè£…ï¼ˆå„ã‚¹ãƒ†ãƒ¼ã‚¸ã®äººæ•°é›†è¨ˆï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 4.3
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-6.1-funnel-service.md](.tmp/tasks/task-6.1-funnel-service.md)
- **å®Œäº†æ—¥**: 2025-10-16

### Task 6.2: ãƒ‰ãƒ­ãƒƒãƒ—ç‡è¨ˆç®—å®Ÿè£… âœ…

- [x] `calculateDropRate(stage)`å®Ÿè£…
- [x] å‰ã‚¹ãƒ†ãƒ¼ã‚¸ã‹ã‚‰ã®é›¢è„±ç‡è¨ˆç®—
- [x] æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®é›†è¨ˆ
- **å®Œäº†æ¡ä»¶**: è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ãŒå˜ä½“ãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 6.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-6.2-drop-rate-calculation.md](.tmp/tasks/task-6.2-drop-rate-calculation.md)
- **å®Œäº†æ—¥**: 2025-10-16

### Task 6.3: Funnel API å®Ÿè£… âœ…

- [x] `app/routes/api/funnel.ts`ä½œæˆï¼ˆResource Routeï¼‰
- [x] `GET /api/funnel`ï¼ˆå…¨ä½“ãƒ•ã‚¡ãƒãƒ«å–å¾—ï¼‰
- [x] `GET /api/funnel/timeline`ï¼ˆæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰
- **å®Œäº†æ¡ä»¶**: API ãŒçµ±åˆãƒ†ã‚¹ãƒˆã§ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 6.2
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-6.3-funnel-api.md](.tmp/tasks/task-6.3-funnel-api.md)
- **å®Œäº†æ—¥**: 2025-10-16

---

## Phase 7: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ UI å®Ÿè£…ï¼ˆMVPï¼‰

### Task 7.1: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®Ÿè£… âœ…

- [x] `app/routes/dashboard.tsx`ä½œæˆ
- [x] ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆOverview, Developers, Campaigns, Funnelï¼‰ã€‚ä¸€ç•ªä¸‹ã« System Settings ã¸ã®ã‚¢ã‚¤ã‚³ãƒ³
- [x] ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆãƒ­ã‚´ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼‰
- [x] ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®é …ç›®ã€ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¬¡ç¬¬ã§å¢—æ¸›ã™ã‚‹ã“ã¨ã‚’æƒ³å®š
- [x] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼ˆDarkModeProvider å®Ÿè£…ï¼‰
- [x] ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰
- [x] E2E ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ12 ãƒ†ã‚¹ãƒˆï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 2.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.1-dashboard-layout.md](.tmp/tasks/task-7.1-dashboard-layout.md)
- **å®Œäº†æ—¥**: 2025-10-17

### Task 7.2: Overview ãƒšãƒ¼ã‚¸å®Ÿè£… âœ…

- [x] `app/routes/dashboard._index.tsx`ä½œæˆ
- [x] Swapy ã§ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—å¯èƒ½ã«ï¼ˆ[Swapy](https://swapy.tahazsh.com/)ï¼‰
- [x] ç·ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£æ•°ãƒ»é–‹ç™ºè€…æ•°ãƒ»æ–½ç­–ä»¶æ•°ã®è¡¨ç¤º
- [x] ROI å¹³å‡å€¤ã®è¡¨ç¤º
- [x] ç°¡æ˜“ã‚°ãƒ©ãƒ•ï¼ˆRechartsï¼‰
- [x] E2E ãƒ†ã‚¹ãƒˆä½œæˆ
- **å®Œäº†æ¡ä»¶**: Overview ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 7.1, Task 4.5, Task 5.4
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.2-overview-page.md](.tmp/tasks/task-7.2-overview-page.md)
- **å®Œäº†æ—¥**: 2025-10-17

### Task 7.3: Developers ãƒšãƒ¼ã‚¸å®Ÿè£… âœ…

- [x] `app/routes/dashboard/developers.tsx`ä½œæˆ
- [x] é–‹ç™ºè€…ãƒªã‚¹ãƒˆè¡¨ç¤ºï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰
  - ä¸€è¦§æ©Ÿèƒ½ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã‚‚ä½¿ã†ã®ã§ã€å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ã™ã‚‹
- [x] æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½
- [x] é–‹ç™ºè€…è©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆ`/dashboard/developers/:id`ï¼‰
- **å®Œäº†æ¡ä»¶**: é–‹ç™ºè€…ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã€è©³ç´°ãƒšãƒ¼ã‚¸ã¸é·ç§»ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 7.1, Task 4.2, Task 4.3
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3-developers-page.md](.tmp/tasks/task-7.3-developers-page.md)
- **å®Œäº†æ—¥**: 2025-10-18

### Task 7.3.1: RLS å®Ÿè£…ã®ä¿®æ­£ã¨ãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ”¹å–„ï¼ˆæŠ€è¡“çš„è² å‚µè§£æ¶ˆï¼‰

- [ ] **NODE_ENV=test ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¯¾å¿œ**
  - ç¾åœ¨ã®å•é¡Œ: `connection.ts`ã§`NODE_ENV=test`æ™‚ã«`max: 1`åˆ¶é™ãŒã‚ã‚Šã€E2E ç’°å¢ƒã§ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ç™ºç”Ÿ
- [ ] **withTenantContext()ã¸ã®çµ±ä¸€**
  - ç¾åœ¨ã®å•é¡Œ: Production code ã¨ Test ã‚³ãƒ¼ãƒ‰ãŒ`setTenantContext()`ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ã‚³ãƒ¼ãƒ—ã€`SET`ï¼‰ã‚’ä½¿ç”¨
  - Connection pooling ã§æ¥ç¶šãŒå†åˆ©ç”¨ã•ã‚Œã‚‹ã¨ã€tenant context ãŒæ¼æ´©ã™ã‚‹å±é™ºæ€§
  - æ­£ã—ã„å®Ÿè£…: `withTenantContext()`ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚¹ã‚³ãƒ¼ãƒ—ã€`SET LOCAL`ï¼‰ã‚’ä½¿ç”¨
  - å½±éŸ¿ç¯„å›²:
    - Production API routes: `app/routes/api/campaigns.ts`, `app/routes/api/campaigns.$id.ts`, `app/routes/api/funnel.ts`
    - Test code: `app/middleware/tenant-context.test.ts`, `app/routes/api/campaigns.$id.test.ts`ã€ãã®ä»–ã™ã¹ã¦ã® RLS ãƒ†ã‚¹ãƒˆ
  - å®Ÿè£…æ‰‹é †: 2. ã™ã¹ã¦ã® Production code ã‚’`withTenantContext()`ã«æ›¸ãæ›ãˆ 3. ã™ã¹ã¦ã® Test code ã‚’`withTenantContext()`ã«æ›¸ãæ›ãˆ 4. RLS integration tests ãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3.1-rls-tenancy-refactor.md](.tmp/tasks/task-7.3.1-rls-tenancy-refactor.md)
- **å®Œäº†æ¡ä»¶**:
  - çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆVitestï¼‰ãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹
  - E2E ãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰ãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹ï¼ˆNODE_ENV=test ç’°å¢ƒï¼‰
  - ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ãŒ`withTenantContext()`ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹
- **ä¾å­˜**: ãªã—ï¼ˆç‹¬ç«‹ã—ãŸæŠ€è¡“çš„è² å‚µè§£æ¶ˆã‚¿ã‚¹ã‚¯ï¼‰
- **æ¨å®šæ™‚é–“**: 8 æ™‚é–“
- **å„ªå…ˆåº¦**: é«˜ï¼ˆç¾åœ¨ã® RLS å®Ÿè£…ã¯æœ¬è³ªçš„ã«å±é™ºï¼‰
- **æ³¨æ„**:
  - ã“ã®ã‚¿ã‚¹ã‚¯ã¯å¤§è¦æ¨¡ãªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å«ã‚€
  - ã™ã¹ã¦ã® API routes ã¨ service functions ã«å½±éŸ¿
  - æ…é‡ãªãƒ†ã‚¹ãƒˆã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå¿…è¦

### Task 7.3.2: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ã®å®Ÿè£… âœ…

- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒæ›´æ–°ï¼ˆ`service_name`, `logo_url`, `fiscal_year_start_month`, `timezone`, `s3_settings`, `smtp_settings`è¿½åŠ ï¼‰
- [x] `core/config/env.ts`å®Ÿè£…ï¼ˆENCRYPTION_KEY èµ·å‹•æ™‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- [x] `core/utils/encryption.ts`å®Ÿè£…ï¼ˆAES-256-GCM æš—å·åŒ–/å¾©å·åŒ–ã€ã‚­ãƒ¼ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œï¼‰
- [x] `core/utils/s3-client.ts`å®Ÿè£…ï¼ˆS3 ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰/å‰Šé™¤ï¼‰
- [x] `core/utils/smtp-client.ts`å®Ÿè£…ï¼ˆSMTP æ¥ç¶šãƒ†ã‚¹ãƒˆï¼‰
- [x] `core/services/system-settings.service.ts`å®Ÿè£…ï¼ˆCRUDã€æš—å·åŒ–ã€S3/SMTP è¨­å®šãƒã‚§ãƒƒã‚¯ã€ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰
- [x] `app/routes/api.system-settings.ts`å®Ÿè£…ï¼ˆGET/PUTã€admin æ¨©é™ãƒã‚§ãƒƒã‚¯ï¼‰
- [x] `app/routes/api.system-settings.upload-logo.ts`å®Ÿè£…ï¼ˆPOSTã€ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰
- [x] `app/routes/dashboard.settings.tsx`ä½œæˆï¼ˆBasic/S3/SMTP è¨­å®šç”»é¢ã€ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ UIï¼‰
- [x] æ¥ç¶šãƒ†ã‚¹ãƒˆæ©Ÿèƒ½å®Ÿè£…ï¼ˆS3/SMTP æ¥ç¶šç¢ºèª APIï¼‰
- [x] E2E ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ14 ãƒ†ã‚¹ãƒˆï¼šBasic 6 + S3 3 + SMTP 2 + Validation 3ï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€S3/SMTP è¨­å®šãŒä¿å­˜ãƒ»ãƒ†ã‚¹ãƒˆãƒ»ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 7.1
- **æ¨å®šæ™‚é–“**: 8 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-20
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3.2-system-settings.md](.tmp/tasks/task-7.3.2-system-settings.md)
- **æ³¨æ„**:
  - AI æ©Ÿèƒ½ã¯ OSS ç‰ˆã«å«ã¾ã‚Œãªã„ãŸã‚é™¤å¤–
  - ä¼šè¨ˆå¹´åº¦ã¯æœŸåˆæœˆã®ã¿ï¼ˆ1-12ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 4ï¼‰
  - S3 æœªè¨­å®šæ™‚ã¯ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç„¡åŠ¹åŒ–ï¼ˆURL å…¥åŠ›ã®ã¿ï¼‰
  - æ©Ÿå¯†æƒ…å ±ï¼ˆAPI keys, passwordsï¼‰ã¯æš—å·åŒ–ã—ã¦ DB ä¿å­˜
  - GET API ã§ã¯æ©Ÿå¯†æƒ…å ±ã‚’è¿”ã•ãªã„ï¼ˆboolean flag ã®ã¿ï¼‰
  - è¨­å®šå¤‰æ›´ã¯ admin ãƒ­ãƒ¼ãƒ«ã®ã¿è¨±å¯
  - ENCRYPTION_KEY èµ·å‹•æ™‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆFail-Fastï¼‰
  - ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰: multipart/form-dataã€2MB ä»¥ä¸‹ã€PNG/JPEG/WebP ã®ã¿ï¼ˆSVG é™¤å¤–ï¼‰

### Task 7.3.3: ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚«ãƒ©ãƒ¼ã¨ã‚¢ã‚¤ã‚³ãƒ³ã®è¨­å®šç”»é¢å®Ÿè£…ï¼ˆã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ã®ä¸€éƒ¨ï¼‰ âœ…

**å®Ÿè£…å®Œäº†ï¼ˆ2025-10-21ï¼‰:**

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆå®Œäº†ï¼‰:**

- [x] `core/db/schema/admin.ts`ã«`activity_types`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ  âœ…
  - ã‚«ãƒ©ãƒ : `activity_type_id`, `tenant_id`, `action`, `icon_name`, `color_class`, `stage_key`, `created_at`, `updated_at`
  - Migration 0007 ç”Ÿæˆãƒ»é©ç”¨å®Œäº†
- [x] `core/services/activity-type.service.ts`ä½œæˆï¼ˆCRUD + ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼‰ âœ…
  - 24 å€‹ã®ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹
- [x] `app/routes/api.activity-types.ts`ä½œæˆï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ— CRUD APIï¼‰ âœ…
  - GET (list), POST (create) - 13 ãƒ†ã‚¹ãƒˆ
- [x] `app/routes/api.activity-types.$action.ts`ä½œæˆï¼ˆå€‹åˆ¥ãƒªã‚½ãƒ¼ã‚¹ APIï¼‰ âœ…
  - GET, PUT, DELETE - 13 ãƒ†ã‚¹ãƒˆ
- [x] `app/routes/api.activity-types.actions.ts`ä½œæˆï¼ˆæ—¢å­˜ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§ APIï¼‰ âœ…
  - GET - 3 ãƒ†ã‚¹ãƒˆ
- [x] ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« âœ…
  - `react-color@2.19.3`
  - `@types/react-color@3.0.13`

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆå®Œäº†ï¼‰:**

- [x] `app/routes/dashboard.settings.activity-types.tsx`ä½œæˆï¼ˆãƒ¡ã‚¤ãƒ³ç”»é¢ï¼‰
- [x] UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼š
  - [x] ActivityTypeTableï¼ˆä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
  - [x] ActivityTypeFormï¼ˆä½œæˆãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ï¼‰
  - [x] ActionComboboxï¼ˆæ—¢å­˜ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠ + æ–°è¦å…¥åŠ›ï¼‰
  - [x] IconPickerï¼ˆ@iconify/react ä½¿ç”¨ã€ã‚¢ã‚¤ã‚³ãƒ³æ¤œç´¢ãƒ»é¸æŠï¼‰
  - [x] ColorPaletteï¼ˆreact-color ä½¿ç”¨ã€ãƒ—ãƒªã‚»ãƒƒãƒˆã‚«ãƒ©ãƒ¼é¸æŠï¼‰
- [x] E2E ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ13 ãƒ†ã‚¹ãƒˆï¼‰

  - è¡¨ç¤ºãƒ»ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡: 2 tests
  - CRUD æ“ä½œ: 6 tests
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³: 2 tests
  - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå‹•ä½œ: 3 tests

- **å®Œäº†æ¡ä»¶**: è¨­å®šç”»é¢ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã”ã¨ã«ã‚¢ã‚¤ã‚³ãƒ³ã¨ã‚«ãƒ©ãƒ¼ã‚’è¨­å®šã§ãã€E2E ãƒ†ã‚¹ãƒˆãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 7.3
- **æ¨å®šæ™‚é–“**: 6.5 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-21
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:
  - [.tmp/tasks/task-7.3.3-activity-type-settings.md](.tmp/tasks/task-7.3.3-activity-type-settings.md)ï¼ˆå…¨ä½“ä»•æ§˜ï¼‰
  - [.tmp/tasks/task-7.3.3-ui.md](.tmp/tasks/task-7.3.3-ui.md)ï¼ˆUI å®Ÿè£…ä»•æ§˜ï¼‰
- **æ³¨æ„**:
  - å®Ÿè£…ã¯ 2 æ®µéšã«åˆ†å‰²ï¼š
    1. ã“ã®ã‚¿ã‚¹ã‚¯ï¼ˆ7.3.3ï¼‰: è¨­å®šç”»é¢ã¨ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆå®Œäº†ï¼‰
    2. æ¬¡ã®ã‚¿ã‚¹ã‚¯ï¼ˆ7.3.4ï¼‰: `getActivityColor()`ã¨`getActivityIconName()`ã®å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å–å¾—ï¼‰
  - ActivityTimeline.tsx å†…ã® TODO ã‚³ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§

### Task 7.3.4: ActivityTimeline å‹•çš„ã‚«ãƒ©ãƒ¼ãƒ»ã‚¢ã‚¤ã‚³ãƒ³é©ç”¨ âœ…

- [x] `getActivityColor()`å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰è¨­å®šã‚’å–å¾—ï¼‰
- [x] `getActivityIconName()`å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰è¨­å®šã‚’å–å¾—ï¼‰
- [x] `ActivityTimeline.tsx`ã«ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å‡¦ç†è¿½åŠ 
- [x] ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å®Ÿè£…ï¼ˆåŒä¸€ãƒ†ãƒŠãƒ³ãƒˆå†…ã§è¨­å®šã‚’å†åˆ©ç”¨ï¼‰
- [x] E2E ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆã‚«ãƒ©ãƒ¼ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ã®å‹•çš„è¡¨ç¤ºç¢ºèªï¼‰
- **å®Œäº†æ¡ä»¶**: ActivityTimeline ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®šã«åŸºã¥ã„ã¦ã‚«ãƒ©ãƒ¼ã¨ã‚¢ã‚¤ã‚³ãƒ³ã‚’å‹•çš„ã«è¡¨ç¤ºã™ã‚‹ âœ“
- **ä¾å­˜**: Task 7.3.3
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-21
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.3.4-activity-timeline-dynamic.md](.tmp/tasks/task-7.3.4-activity-timeline-dynamic.md)

### Task 7.4: Campaigns ãƒšãƒ¼ã‚¸å®Ÿè£… âœ…

- [x] `app/routes/dashboard.campaigns._index.tsx`ä½œæˆ
- [x] æ–½ç­–ãƒªã‚¹ãƒˆè¡¨ç¤º
- [x] ROI è¡¨ç¤ºï¼ˆè‰²åˆ†ã‘: æ­£/è² ï¼‰
- **å®Œäº†æ¡ä»¶**: æ–½ç­–ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã€ROI ãŒç¢ºèªã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 7.1, Task 5.4
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-22

### Task 7.4.1: æ–°è¦ API å®Ÿè£… âœ…

- [x] `GET /api/campaigns/:id/budgets`å®Ÿè£…
- [x] `GET /api/campaigns/:id/resources`å®Ÿè£…
- [x] `GET /api/campaigns/:id/activities`å®Ÿè£…
- **å®Œäº†æ¡ä»¶**: 3 ã¤ã® API ãŒå®Ÿè£…ã•ã‚Œã€ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹ã™ã‚‹ âœ“
- **ä¾å­˜**: Task 5.4
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-22
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.4.1-campaign-detail-apis.md](.tmp/tasks/task-7.4.1-campaign-detail-apis.md)

### Task 7.4.2: æ–½ç­–è©³ç´°ãƒšãƒ¼ã‚¸å®Ÿè£… âœ…

- [x] `app/routes/dashboard/campaigns.$id.tsx`ä½œæˆ
- [x] æ–½ç­–è©³ç´°æƒ…å ±è¡¨ç¤º
- [x] Budgets ãƒªã‚¹ãƒˆè¡¨ç¤º
- [x] Resources ãƒªã‚¹ãƒˆè¡¨ç¤º
- [x] Activities ãƒªã‚¹ãƒˆè¡¨ç¤º
- **å®Œäº†æ¡ä»¶**: æ–½ç­–è©³ç´°ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€é–¢é€£ãƒ‡ãƒ¼ã‚¿ãŒç¢ºèªã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 7.4, Task 7.4.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-23
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.4.2-campaign-detail-page.md](.tmp/tasks/task-7.4.2-campaign-detail-page.md)

### Task 7.4.3: ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®è¿½åŠ  âœ…

- [x] ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [x] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
- [x] å…¥åŠ›ã‚¨ãƒ©ãƒ¼å‡¦ç†
- **å®Œäº†æ¡ä»¶**: ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ãŒæ©Ÿèƒ½ã—ã€æ–°è¦ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’ä½œæˆã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 7.4
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-24
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.4.3-campaign-add-form.md](.tmp/tasks/task-7.4.3-campaign-add-form.md)

### Task 7.4.4: ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ç·¨é›† âœ…

- [x] ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [x] æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
- [x] æ›´æ–°å‡¦ç†å®Ÿè£…
- **å®Œäº†æ¡ä»¶**: ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ãŒæ©Ÿèƒ½ã—ã€æ—¢å­˜ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’æ›´æ–°ã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 7.4
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-24
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.4.4-campaign-edit-form.md](.tmp/tasks/task-7.4.4-campaign-edit-form.md)

### Task 7.4.5: ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®å‰Šé™¤ âœ…

- [x] å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°å®Ÿè£…
- [x] å‰Šé™¤å‡¦ç†å®Ÿè£…
- [x] CASCADE å‰Šé™¤ï¼ˆé–¢é€£ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ï¼‰
- **å®Œäº†æ¡ä»¶**: ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’å‰Šé™¤ã§ãã€ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 7.4
- **æ¨å®šæ™‚é–“**: 1 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-25
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-7.4.5-campaign-delete.md](.tmp/tasks/task-7.4.5-campaign-delete.md)

### Task 7.5: Funnel ãƒšãƒ¼ã‚¸å®Ÿè£…

- [ ] `app/routes/dashboard/funnel.tsx`ä½œæˆ
- [ ] ãƒ•ã‚¡ãƒãƒ«ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤ºï¼ˆRechartsï¼‰
- [ ] ãƒ‰ãƒ­ãƒƒãƒ—ç‡è¡¨ç¤º
- [ ] æ™‚ç³»åˆ—ã‚°ãƒ©ãƒ•ï¼ˆæ—¥æ¬¡/é€±æ¬¡/æœˆæ¬¡ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ•ã‚¡ãƒãƒ«ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã€ã‚°ãƒ©ãƒ•ãŒæç”»ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 7.1, Task 6.3
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“

---

## Phase 8: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ï¼ˆåŸºç›¤ï¼‰

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ–¹é‡:**
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å®Ÿè¡Œã¯**isolated-vm**ã‚’ä½¿ç”¨ã—ã¦ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹åŒ–
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã¯éš”é›¢ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§è¡Œã„ã€ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®å½±éŸ¿ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹

### Task 8.1: Plugin Loader å®Ÿè£… âœ…

- [x] `core/plugin-system/loader.ts`ä½œæˆ
- [x] `discoverPlugins()`å®Ÿè£…ï¼ˆnode_modules/ã‚¹ã‚­ãƒ£ãƒ³ï¼‰
- [x] `loadPlugin(packageName)`å®Ÿè£…
- [x] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆplugin.json ã‹ã‚‰ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ¤œå‡ºã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 3.6
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.1-plugin-loader.md](.tmp/tasks/task-8.1-plugin-loader.md)
- **å®Œäº†æ—¥**: 2025-10-26

### Task 8.2: Hook Registry å®Ÿè£… âœ…

- [x] `core/plugin-system/hooks.ts`ä½œæˆ
- [x] `registerHook(name, handler)`å®Ÿè£…
- [x] `executeHook(name, args)`å®Ÿè£…
- [x] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ•ãƒƒã‚¯ã®å®Ÿè¡Œãƒ­ã‚°è¨˜éŒ²ï¼ˆplugin_runs ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ•ãƒƒã‚¯ãŒç™»éŒ²ãƒ»å®Ÿè¡Œã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 8.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.2-hook-registry.md](.tmp/tasks/task-8.2-hook-registry.md)
- **å®Œäº†æ—¥**: 2025-10-26

### Task 8.3: Job Scheduler å®Ÿè£…ï¼ˆBullMQï¼‰ âœ…

- [x] BullMQ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [x] `core/plugin-system/scheduler.ts`ä½œæˆ
- [x] `registerJob(name, cron, handler)`å®Ÿè£…
- [x] Redis ã‚­ãƒ¥ãƒ¼æ¥ç¶š
- [x] Worker ãƒ—ãƒ­ã‚»ã‚¹å®Ÿè£…
- **å®Œäº†æ¡ä»¶**: cron ã‚¸ãƒ§ãƒ–ãŒç™»éŒ²ãƒ»å®Ÿè¡Œã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 8.2
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.3-job-scheduler.md](.tmp/tasks/task-8.3-job-scheduler.md)
- **å®Œäº†æ—¥**: 2025-10-26

### Task 8.4: Plugin ç®¡ç† API å®Ÿè£…

- [x] `app/routes/api/plugins.ts`ä½œæˆ
- [x] `GET /api/plugins`ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¸€è¦§ï¼‰
- [x] `PUT /api/plugins/:id`ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³æœ‰åŠ¹åŒ–ï¼‰
- [x] `DELETE /api/plugins/:id`ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç„¡åŠ¹åŒ–ï¼‰
- [x] `GET /api/plugins/:id`ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šå–å¾—ï¼‰
- [x] `GET /api/plugins/:id/logs`ï¼ˆå®Ÿè¡Œãƒ­ã‚°å–å¾—ï¼‰
- **å®Œäº†æ¡ä»¶**: API ãŒæ©Ÿèƒ½ã—ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæœ‰åŠ¹åŒ–/ç„¡åŠ¹åŒ–ã§ãã‚‹
- **ä¾å­˜**: Task 8.3
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“

### Task 8.5: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨­å®šè¡¨ç¤ºæ©Ÿèƒ½å®Ÿè£…

- [ ] `app/routes/dashboard/plugins.$id.config.tsx`ä½œæˆ
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šæƒ…å ±ã®è¡¨ç¤º
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®åŸºæœ¬æƒ…å ±ï¼ˆåå‰ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€èª¬æ˜ï¼‰
  - è¨­å®šé …ç›®ã®è¡¨ç¤ºï¼ˆplugin.json ã«å®šç¾©ã•ã‚ŒãŸè¨­å®šï¼‰
  - è¿½åŠ ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®ä¸€è¦§è¡¨ç¤º
  - å¿…è¦ãªæ¨©é™ã®ä¸€è¦§è¡¨ç¤º
- [ ] `GET /dashboard/plugins/:id/config`ãƒ«ãƒ¼ãƒˆå®Ÿè£…
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨­å®šå†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚„æ¨©é™æƒ…å ±ãŒç¢ºèªã§ãã‚‹
- **ä¾å­˜**: Task 8.4
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“

### Task 8.6: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤ºå®Ÿè£… âœ…

- [x] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç™»éŒ²æ™‚ã®ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®è¿½åŠ æ©Ÿèƒ½
- [x] plugin.json ã®`menu`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª­ã¿è¾¼ã¿
- [x] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¸ã®å‹•çš„ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¿½åŠ 
- [x] ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãƒã‚§ãƒƒã‚¯
- **å®Œäº†æ¡ä»¶**: plugin.json ã« menu è¨­å®šãŒã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ âœ“
- **ä¾å­˜**: Task 8.4, Task 7.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“
- **å®Œäº†æ—¥**: 2025-10-27
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.6-plugin-sidebar-menu.md](.tmp/tasks/task-8.6-plugin-sidebar-menu.md)

### Task 8.7: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨­å®šç·¨é›†å®Ÿè£…

- [ ] `app/routes/dashboard/plugins.$id.edit.tsx`ä½œæˆ
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
  - API ã‚­ãƒ¼ã€ãƒˆãƒ¼ã‚¯ãƒ³ãªã©ã®æ©Ÿå¯†æƒ…å ±å…¥åŠ›
  - plugin.json ã§å®šç¾©ã•ã‚ŒãŸè¨­å®šé …ç›®ã®å‹•çš„ãƒ•ã‚©ãƒ¼ãƒ ç”Ÿæˆ
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
- [ ] `GET /dashboard/plugins/:id/edit`ãƒ«ãƒ¼ãƒˆå®Ÿè£…
- [ ] `PUT /api/plugins/:id`å®Ÿè£…ï¼ˆè¨­å®šæ›´æ–°ï¼‰
- [ ] æš—å·åŒ–ã—ã¦ä¿å­˜ï¼ˆencryption.ts ä½¿ç”¨ï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨­å®šã‚’ç·¨é›†ã§ãã€æš—å·åŒ–ã—ã¦ä¿å­˜ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 8.4, Task 7.3.2
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“

### Task 8.8: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® Cron å®Ÿè¡Œã¨çµæœç¢ºèª âœ…

- [x] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® cron ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ©Ÿèƒ½å®Ÿè£…
- [x] å®Ÿè¡Œçµæœã®è¨˜éŒ²ï¼ˆplugin_runs ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- [x] å®Ÿè¡Œã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç®¡ç† UI
- [x] æ‰‹å‹•å®Ÿè¡Œæ©Ÿèƒ½ï¼ˆ`POST /api/plugins/:id/run`ï¼‰
- [x] å®Ÿè¡Œçµæœã®ã‚µãƒãƒªãƒ¼è¡¨ç¤º
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® cron ã‚¸ãƒ§ãƒ–ãŒå®Ÿè¡Œã•ã‚Œã€çµæœãŒç¢ºèªã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 8.3
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.8-plugin-cron-execution.md](.tmp/tasks/task-8.8-plugin-cron-execution.md)
- **å®Œäº†æ—¥**: 2025-10-28

### Task 8.9: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å®Ÿè¡Œãƒ­ã‚°ç¢ºèªç”»é¢å®Ÿè£… âœ…

- [x] `app/routes/dashboard/plugins.$id.runs.tsx`ä½œæˆï¼ˆSPA/fetch-basedï¼‰
- [x] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å®Ÿè¡Œãƒ­ã‚°ã®ä¸€è¦§è¡¨ç¤º
  - å®Ÿè¡Œæ—¥æ™‚ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€å®Ÿè¡Œæ™‚é–“ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆæˆåŠŸ/å¤±æ•—ã€ã‚¸ãƒ§ãƒ–åï¼‰
- [x] `GET /api/plugins/:id/runs`APIå®Ÿè£…
- [x] ãƒ­ã‚°è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«å®Ÿè£…ï¼ˆ`RunDetailModal`ï¼‰
- [x] E2Eãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ15 testsï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å®Ÿè¡Œãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã€è©³ç´°ãŒç¢ºèªã§ãã‚‹ âœ“
- **ä¾å­˜**: Task 8.4
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.9-plugin-logs-ui.md](.tmp/tasks/task-8.9-plugin-logs-ui.md)
- **å®Œäº†æ—¥**: 2025-10-28

### Task 8.10: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¡¨ç¤ºï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰

- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ API å®šç¾©ï¼ˆplugin.json ã«`widgets`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
- [ ] ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•çš„èª­ã¿è¾¼ã¿
- [ ] Overview ãƒšãƒ¼ã‚¸ã¸ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¿½åŠ æ©Ÿèƒ½
- [ ] Swapy ã§ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œ
- [ ] ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¡¨ç¤ºè¨­å®šã®ä¿å­˜ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šï¼‰
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¡¨ç¤ºã•ã‚Œã€é…ç½®ã‚’å¤‰æ›´ã§ãã‚‹
- **ä¾å­˜**: Task 8.4, Task 7.2
- **æ¨å®šæ™‚é–“**: 5 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.10-plugin-widgets.md](.tmp/tasks/task-8.10-plugin-widgets.md)

### Task 8.11: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®åé›†çµæœã®è©³ç´°ç”¨APIå®Ÿè£…

- [ ] ã‚µãƒ¼ãƒ“ã‚¹å±¤å®Ÿè£…ï¼ˆ`core/services/plugin-events.service.ts`ï¼‰
  - `listPluginEvents()`: ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§å–å¾—ï¼ˆãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚£ãƒ«ã‚¿ã€ã‚½ãƒ¼ãƒˆï¼‰
  - `getPluginEventDetail()`: ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°å–å¾—ï¼ˆæ©Ÿå¯†æƒ…å ±ãƒã‚¹ã‚­ãƒ³ã‚°ä»˜ãï¼‰
  - `getPluginEventsStats()`: çµ±è¨ˆæƒ…å ±å–å¾—
  - `reprocessEvent()`: ã‚¤ãƒ™ãƒ³ãƒˆå†å‡¦ç†ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - `sanitizeRawData()`: æ©Ÿå¯†æƒ…å ±ã®å†å¸°çš„ãƒã‚¹ã‚­ãƒ³ã‚°é–¢æ•°
- [ ] `GET /api/plugins/:id/events` å®Ÿè£…
  - plugin_events_raw ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
  - ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: page, perPage, status, eventType, startDate, endDate, sort
  - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚£ãƒ«ã‚¿ã€ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½
- [ ] `GET /api/plugins/:id/events/:eventId` å®Ÿè£…
  - ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°å–å¾—ï¼ˆrawDataå«ã‚€ï¼‰
- [ ] `GET /api/plugins/:id/events/stats` å®Ÿè£…
  - çµ±è¨ˆæƒ…å ±å–å¾—ï¼ˆtotal, processed, failed, pending, latestIngestedAt, oldestIngestedAtï¼‰
- [ ] `POST /api/plugins/:id/events/:eventId/reprocess` å®Ÿè£…ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - å¤±æ•—ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã®å†å‡¦ç†ã‚­ãƒ¥ãƒ¼è¿½åŠ 
  - ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å®Ÿè£…ï¼ˆ`core/middleware/rate-limiter.ts`ï¼‰
  - 10ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†/ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆã¾ãŸã¯IPï¼‰ã®åˆ¶é™
  - HTTP 429 + Retry-Afterãƒ˜ãƒƒãƒ€ãƒ¼è¿”å´
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆVitestï¼‰
  - ã‚µãƒ¼ãƒ“ã‚¹å±¤ãƒ†ã‚¹ãƒˆ
  - API ãƒ†ã‚¹ãƒˆ
  - æ©Ÿå¯†æƒ…å ±ãƒã‚¹ã‚­ãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆï¼ˆãƒã‚¹ãƒˆæ§‹é€ ã€é…åˆ—ã€ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
  - ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®ãƒ†ã‚¹ãƒˆ
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åé›†ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹REST APIãŒå®Ÿè£…ã•ã‚Œã€ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- **ä¾å­˜**: Task 8.4
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“
- **æ³¨æ„**: APIå®Ÿè£…ã®ã¿ã€‚UIå®Ÿè£…ã¯Task 8.12ã§å¯¾å¿œ

### Task 8.12: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®åé›†çµæœã®è©³ç´°è¡¨ç¤ºï¼ˆUIï¼‰

- [ ] ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ãƒšãƒ¼ã‚¸å®Ÿè£…ï¼ˆ`/dashboard/plugins/:id/data`ï¼‰
  - ãƒ•ã‚¡ã‚¤ãƒ«: `core/app/routes/dashboard.plugins_.$id.data.tsx`
  - Task 8.11ã§å®Ÿè£…ã—ãŸAPIï¼ˆ`GET /api/plugins/:id/events`ï¼‰ã‚’ä½¿ç”¨
  - ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆEventsTableï¼‰
  - ãƒ•ã‚£ãƒ«ã‚¿UIï¼ˆEventsFilterï¼‰ï¼šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ã‚¤ãƒ™ãƒ³ãƒˆç¨®åˆ¥ã€æ—¥ä»˜ç¯„å›²
  - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
  - çµ±è¨ˆã‚µãƒãƒªãƒ¼è¡¨ç¤ºï¼ˆEventsStatsï¼‰
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«å®Ÿè£…ï¼ˆEventDetailModalï¼‰
  - Task 8.11ã®APIï¼ˆ`GET /api/plugins/:id/events/:eventId`ï¼‰ã‚’ä½¿ç”¨
  - JSON ãƒ“ãƒ¥ãƒ¼ã‚¢ï¼ˆreact-json-view ã¾ãŸã¯é¡ä¼¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰
  - å†å‡¦ç†ãƒœã‚¿ãƒ³ï¼ˆå¤±æ•—ã‚¤ãƒ™ãƒ³ãƒˆç”¨ï¼‰
- [ ] å†å‡¦ç†æ©Ÿèƒ½å®Ÿè£…
  - Task 8.11ã®APIï¼ˆ`POST /api/plugins/:id/events/:eventId/reprocess`ï¼‰ã‚’ä½¿ç”¨
  - æ¥½è¦³çš„UIæ›´æ–°
- [ ] E2E ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ`core/e2e/plugin-data-display.spec.ts`ï¼‰
  - ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿ã¨ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
  - ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
  - è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
  - å†å‡¦ç†æ©Ÿèƒ½
- **å®Ÿè£…æ–¹é‡**:
  - SPA (Single Page Application) ã¨ã—ã¦å®Ÿè£…
  - Remix ã® `useFetcher` ã¾ãŸã¯ `fetch` ã§APIã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã—
  - SSR (Server-Side Rendering) ã¯ä½¿ç”¨ã—ãªã„
  - **UIãƒ†ã‚­ã‚¹ãƒˆã¯ã™ã¹ã¦è‹±èªã§å®Ÿè£…**
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®åé›†ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€è¦§è¡¨ç¤ºã—ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ»è©³ç´°è¡¨ç¤ºãƒ»å†å‡¦ç†ãŒã§ãã‚‹
- **ä¾å­˜**: Task 8.11ï¼ˆAPIå®Ÿè£…ï¼‰
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“

---

### Task 8.13: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¡¨ç¤ºå®Ÿè£…

- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸å®šç¾©æ©Ÿèƒ½ï¼ˆplugin.json ã«`pages`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
- [ ] Component Registry å®Ÿè£…ï¼ˆ`core/plugin-system/component-registry.ts`ï¼‰
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
  - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç™»éŒ²ãƒ»å–å¾—
- [ ] å‹•çš„ãƒ«ãƒ¼ãƒˆå®Ÿè£…ï¼ˆ`core/app/routes/dashboard.plugins_.$id.$.tsx`ï¼‰
  - Component Registry ã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå–å¾—
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ­ãƒ¼ãƒ€ãƒ¼æ‹¡å¼µï¼ˆ`core/plugin-system/loader.ts`ï¼‰
  - plugin.json ã® pages ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª­ã¿è¾¼ã¿
  - èµ·å‹•æ™‚ã®è‡ªå‹•ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç™»éŒ²
- [ ] ãƒ†ã‚¹ãƒˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä½œæˆï¼ˆ`plugins/test-plugin/`ï¼‰
  - plugin.json å®šç¾©ï¼ˆpages, menusï¼‰
  - Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆOverviewPage.tsxï¼‰
- [ ] E2E ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ`core/e2e/plugin-pages.spec.ts`ï¼‰
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸è¡¨ç¤ºç¢ºèª
  - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•çš„èª­ã¿è¾¼ã¿ç¢ºèª
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæä¾›ã™ã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¡¨ç¤ºã•ã‚Œã‚‹
- **ä¾å­˜**: Task 8.4, Task 8.6
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.13-plugin-react-components.md](.tmp/tasks/task-8.13-plugin-react-components.md)
- **æ³¨æ„**:
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãƒ–ãƒ©ã‚¦ã‚¶ã§å®Ÿè¡Œã•ã‚Œã‚‹ï¼ˆisolated-vmä¸è¦ï¼‰
  - TypeScriptå‹ãƒã‚§ãƒƒã‚¯ãŒåŠ¹ã
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: XSSå¯¾ç­–ã€CSPè¨­å®šãŒå¿…è¦

### Task 8.14: menusã®/dataã‚’æ­¢ã‚ã¦ã€dataã‚­ãƒ¼ã«å¤‰æ›´ã™ã‚‹å¯¾å¿œ ğŸ”„

**ç›®çš„:**
ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® `/data` ãƒšãƒ¼ã‚¸ã¯ç‰¹æ®Šãªãƒšãƒ¼ã‚¸ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ç®¡ç†UIï¼‰ã§ã‚ã‚Šã€ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯ãªãã‚³ã‚¢å´ã§æä¾›ã™ã‚‹ã€‚ãã®ãŸã‚ã€`menus` ã§ `/data` ã‚’å®šç¾©ã™ã‚‹ã®ã§ã¯ãªãã€`data: true` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§è‡ªå‹•ç”Ÿæˆã™ã‚‹ä»•æ§˜ã«å¤‰æ›´ã™ã‚‹ã€‚

**èƒŒæ™¯:**
ç¾åœ¨ã®å®Ÿè£…ã§ã¯ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® `menus` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã« `/data` ãƒšãƒ¼ã‚¸ã‚’å«ã‚ã¦ã„ã‚‹ãŒã€ä»¥ä¸‹ã®å•é¡ŒãŒã‚ã‚‹ï¼š
1. **ç‰¹æ®Šãƒšãƒ¼ã‚¸ã®æ··åœ¨**: `/data` ã¯ã‚³ã‚¢å´ã§æä¾›ã™ã‚‹æ¨™æº–UIã§ã‚ã‚Šã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ¼ã‚¸ï¼ˆ`/overview`, `/logs`ãªã©ï¼‰ã¨ã¯æ€§è³ªãŒç•°ãªã‚‹
2. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸è¦**: `/data` ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã§Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æä¾›ã™ã‚‹å¿…è¦ãŒãªã„ï¼ˆã‚³ã‚¢å´ã§è‡ªå‹•ç”Ÿæˆï¼‰

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.14-plugin-data-field.md](.tmp/tasks/task-8.14-plugin-data-field.md)
**é–‹å§‹æ—¥**: 2025-11-06

**æ–°ã—ã„ä»•æ§˜:**

#### 1. plugin.jsonã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´

**å¤‰æ›´å‰:**
```json
{
  "menus": [
    {
      "key": "overview",
      "label": "Overview",
      "to": "/overview",
      "icon": "mdi:chart-line"
    },
    {
      "key": "data",
      "label": "Collected Data",
      "to": "/data",
      "icon": "mdi:database"
    },
    {
      "key": "settings",
      "label": "Settings",
      "to": "/settings",
      "icon": "mdi:cog"
    },
    {
      "key": "logs",
      "label": "Activity Logs",
      "to": "/logs",
      "icon": "mdi:file-document-outline"
    }
  ]
}
```

**å¤‰æ›´å¾Œ:**
```json
{
  "data": true,  // ã“ã®è¡Œã‚’è¿½åŠ ã™ã‚‹ã¨ /data ãƒšãƒ¼ã‚¸ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
  "menus": [
    {
      "key": "overview",
      "label": "Overview",
      "to": "/overview",
      "icon": "mdi:chart-line"
    },
    {
      "key": "settings",
      "label": "Settings",
      "to": "/settings",
      "icon": "mdi:cog"
    },
    {
      "key": "logs",
      "label": "Activity Logs",
      "to": "/logs",
      "icon": "mdi:file-document-outline"
    }
    // `/data` ã®ã¿ menus ã‹ã‚‰é™¤å¤–ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
  ]
}
```

#### 2. `/data` ãƒšãƒ¼ã‚¸ã®æ‰±ã„

`/data` ãƒšãƒ¼ã‚¸ã¯ `data: true` ã®å ´åˆã«ã‚³ã‚¢å´ã§è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ï¼š

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ãƒšãƒ¼ã‚¸ | æ¡ä»¶ | èª¬æ˜ |
|-----------|-------|------|------|
| `data` | `/data` | `data: true` | ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ç®¡ç†UIï¼ˆ`plugin_events_raw`ã®è¡¨ç¤ºã€ã‚³ã‚¢ãŒæä¾›ï¼‰ |

#### 3. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæä¾›ã™ã‚‹ãƒšãƒ¼ã‚¸

`menus`ã§å®£è¨€ã—ãŸ**å…¨ã¦ã®ãƒšãƒ¼ã‚¸**ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã§Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æä¾›ï¼š

- `/overview` - OverviewPage.tsx
- `/settings` - SettingsPage.tsx
- `/logs` - LogsPage.tsx
- ãã®ä»– `menus` ã§å®šç¾©ã—ãŸå…¨ã¦ã®ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ¼ã‚¸

#### 4. ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¡¨ç¤º

`menus` ã«è¨˜è¼‰ã•ã‚ŒãŸé †åºã§ãã®ã¾ã¾è¡¨ç¤ºã•ã‚Œã‚‹ã€‚`data: true` ã®å ´åˆã¯ `/data` ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ãŒã‚³ã‚¢å´ã§è¿½åŠ ã•ã‚Œã‚‹ï¼ˆè¡¨ç¤ºä½ç½®ã¯ã‚³ã‚¢å´ã§æ±ºå®šï¼‰

#### 5. å®Ÿè£…å†…å®¹

- [ ] **plugin.jsonã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°**
  - `data`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼ˆboolean, optional, default: falseï¼‰
  - `menus`ã‹ã‚‰`/data`ã‚’å‰Šé™¤ã™ã‚‹æ¤œè¨¼ãƒ«ãƒ¼ãƒ«è¿½åŠ 

- [ ] **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ­ãƒ¼ãƒ€ãƒ¼ä¿®æ­£** (`core/plugin-system/loader.ts`)
  - `data: true`ã®å ´åˆã€`/data`ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ç™»éŒ²

- [ ] **ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£** (`core/app/routes/dashboard.tsx`)
  - `data: true`ã®å ´åˆã€"Collected Data"ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è‡ªå‹•è¿½åŠ 
  - è¡¨ç¤ºé †: Overview â†’ Data â†’ Custom Menus â†’ Settings

- [ ] **drowl-plugin-test/plugin.jsonæ›´æ–°**
  - `data: true`ã‚’è¿½åŠ 
  - `menus`ã‹ã‚‰`/data`ã‚¨ãƒ³ãƒˆãƒªã‚’å‰Šé™¤

- [ ] **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºã‚¬ã‚¤ãƒ‰ã«`data`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®èª¬æ˜è¿½åŠ 
  - migration guideä½œæˆï¼ˆæ—¢å­˜ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ç§»è¡Œæ‰‹é †ï¼‰

- [ ] **E2Eãƒ†ã‚¹ãƒˆæ›´æ–°**
  - `/data`ãƒšãƒ¼ã‚¸ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
  - `menus`ã«`/data`ãŒã‚ã‚‹å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª

**å®Œäº†æ¡ä»¶:**
- `data: true`ãŒã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§`/data`ãƒšãƒ¼ã‚¸ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
- `menus`ã«`/data`ãŒã‚ã‚‹å ´åˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹
- E2Eãƒ†ã‚¹ãƒˆãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹

**ä¾å­˜:** Task 8.12ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºUIå®Ÿè£…ï¼‰

**æ¨å®šæ™‚é–“:** 3æ™‚é–“

**æ³¨æ„:**
- ã“ã®å¤‰æ›´ã¯æ—¢å­˜ã®drowl-plugin-testã«å½±éŸ¿ã™ã‚‹ãŸã‚ã€plugin.jsonã®æ›´æ–°ãŒå¿…è¦
- `/data` **ã®ã¿**ç‰¹æ®Šæ‰±ã„ã€‚`menus` ã«ã‚ã‚‹ã‚‚ã®ã¯å…¨ã¦ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å´ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæä¾›ãŒå¿…è¦ï¼ˆ`/settings` ã‚‚å«ã‚€ï¼‰

### Task 8.15: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Webhookå—ä¿¡å®Ÿè£…ï¼ˆisolated-vmï¼‰

- [ ] Webhookå®šç¾©æ©Ÿèƒ½ï¼ˆplugin.json ã«`webhooks`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
- [ ] Webhookç½²åæ¤œè¨¼å®Ÿè£…ï¼ˆ`core/plugin-system/auth/webhook-verifier.ts`ï¼‰
  - GitHub Webhookç½²åæ¤œè¨¼
  - Slack Webhookç½²åæ¤œè¨¼
- [ ] isolated-vm Runner å®Ÿè£…ï¼ˆ`core/plugin-system/sandbox/isolated-vm-runner.ts`ï¼‰
  - ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ
  - ãƒ¡ãƒ¢ãƒªãƒ»CPUåˆ¶é™
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡
- [ ] Internal HTTP Client å®Ÿè£…ï¼ˆ`core/plugin-system/sandbox/internal-http-client.ts`ï¼‰
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‹ã‚‰ã‚³ã‚¢APIã¸ã®å‘¼ã³å‡ºã—å°‚ç”¨
  - å¤–éƒ¨URLã‚¢ã‚¯ã‚»ã‚¹ç¦æ­¢
  - å†…éƒ¨èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ä»˜ä¸
- [ ] Webhook Executor å®Ÿè£…ï¼ˆ`core/plugin-system/webhook-executor.ts`ï¼‰
  - Webhookç½²åæ¤œè¨¼
  - isolated-vmã§ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè¡Œ
  - æˆ»ã‚Šå€¤ãƒã‚§ãƒƒã‚¯ï¼ˆbooleanï¼‰
- [ ] Webhookå—ä¿¡APIå®Ÿè£…ï¼ˆ`core/app/routes/api.plugins_.$id.webhooks.$.ts`ï¼‰
  - POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä¿¡
  - Webhook Executorå‘¼ã³å‡ºã—
  - HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¿”å´ï¼ˆtrue: 200, false/Error: 4xx/5xxï¼‰
- [ ] å†…éƒ¨èªè¨¼å®Ÿè£…ï¼ˆ`core/services/auth.service.ts`ï¼‰
  - requirePluginAuth()å®Ÿè£…
  - HMACç½²åã«ã‚ˆã‚‹ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²APIå®Ÿè£…ï¼ˆ`core/app/routes/api.plugin-events.ts`ï¼‰
  - POST /api/plugin-events
  - plugin_events_rawãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ä¿å­˜
  - å†…éƒ¨èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
- [ ] ãƒ†ã‚¹ãƒˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä½œæˆï¼ˆWebhookãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼‰
  - plugin.jsonå®šç¾©ï¼ˆwebhooksï¼‰
  - Webhookãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…ï¼ˆgithub.tsï¼‰
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆVitestï¼‰
  - isolated-vm-runner.test.ts
  - webhook-verifier.test.ts
  - internal-http-client.test.ts
- [ ] E2E ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆPlaywrightï¼‰
  - Webhookå—ä¿¡ç¢ºèª
  - ç½²åæ¤œè¨¼ç¢ºèª
  - ãƒ‡ãƒ¼ã‚¿ä¿å­˜ç¢ºèª
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒWebhookã‚’å—ä¿¡ã—ã€ã‚³ã‚¢APIã‚’å‘¼ã³å‡ºã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã§ãã‚‹
- **ä¾å­˜**: Task 8.4
- **æ¨å®šæ™‚é–“**: 8 æ™‚é–“
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [.tmp/tasks/task-8.14-plugin-webhooks.md](.tmp/tasks/task-8.14-plugin-webhooks.md)
- **æ³¨æ„**:
  - isolated-vmã§ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹å®Ÿè¡Œï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ åˆ¶é™ï¼‰
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯DBç›´æ¥æ“ä½œä¸å¯ã€ã‚³ã‚¢APIçµŒç”±ã®ã¿
  - æˆ»ã‚Šå€¤ã¯å¿…ãšbooleanï¼ˆtrue: æˆåŠŸ, false/Error: å¤±æ•—ï¼‰
  - ã™ã¹ã¦ã®APIå‘¼ã³å‡ºã—ã«å†…éƒ¨èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³å¿…é ˆ

---

## Phase 9: Google Analytics ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å®Ÿè£…

### Task 9.1: Google Analytics Plugin åˆæœŸåŒ–

- [ ] `plugins/google_analytics/package.json`ä½œæˆ
- [ ] `plugins/google_analytics/src/index.ts`ä½œæˆ
- [ ] `definePlugin()`ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å®šç¾©
- [ ] Google Analytics SDK ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- **å®Œäº†æ¡ä»¶**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒãƒ“ãƒ«ãƒ‰ã§ãã‚‹
- **ä¾å­˜**: Task 8.1
- **æ¨å®šæ™‚é–“**: 2 æ™‚é–“

### Task 9.2: Google Analytics åŒæœŸã‚¸ãƒ§ãƒ–å®Ÿè£…

[ ] `syncGoogleAnalyticsData(ctx)`å®Ÿè£…

- [ ] GoogleAnalytics Capture API ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆå–å¾—
- [ ] `distinct_id = click_id`ã§åŒ¿åãƒ‡ãƒ¼ã‚¿è­˜åˆ¥
- [ ] DRM ã® Activity ãƒ†ãƒ¼ãƒ–ãƒ«ã¨çµ±åˆ
- **å®Œäº†æ¡ä»¶**: åŒæœŸã‚¸ãƒ§ãƒ–ãŒå®Ÿè¡Œã•ã‚Œã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã•ã‚Œã‚‹
- **ä¾å­˜**: Task 9.1, Task 8.3
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“

### Task 9.3: GoogleAnalytics è¨­å®š UI å®Ÿè£…

- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šç”»é¢ï¼ˆ`/dashboard/plugins/google_analytics`ï¼‰
- [ ] API ã‚­ãƒ¼ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ID å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- [ ] è¨­å®šä¿å­˜ APIï¼ˆ`POST /api/plugins/google_analytics/config`ï¼‰
- **å®Œäº†æ¡ä»¶**: è¨­å®šç”»é¢ã‹ã‚‰ API ã‚­ãƒ¼ã‚’ä¿å­˜ã§ãã‚‹
- **ä¾å­˜**: Task 9.1
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“

---

## è¿½åŠ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™º

- GitHub ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- KPI ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- Slack é€šçŸ¥ãƒ—ãƒ©ã‚°ã‚¤ãƒ³

---

## Phase 10: ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™

### Task 10.1: å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè£…

- [ ] Vitest ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] DRM ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- [ ] ROI ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- [ ] Funnel ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ 80%ä»¥ä¸Š
- **å®Œäº†æ¡ä»¶**: `pnpm test`ãŒæˆåŠŸã™ã‚‹
- **ä¾å­˜**: Task 4.1, Task 5.1, Task 6.1
- **æ¨å®šæ™‚é–“**: 6 æ™‚é–“

### Task 10.2: çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…

- [ ] API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
- [ ] Redis ã‚­ãƒ¥ãƒ¼ãƒ†ã‚¹ãƒˆ
- **å®Œäº†æ¡ä»¶**: çµ±åˆãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹
- **ä¾å­˜**: Task 4.4, Task 5.4, Task 6.3
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“

### Task 10.3: E2E ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆPlaywrightï¼‰

- [ ] Playwright ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
- [ ] Developer ä½œæˆãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
- [ ] Campaign ä½œæˆãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
- **å®Œäº†æ¡ä»¶**: E2E ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹
- **ä¾å­˜**: Task 7.5
- **æ¨å®šæ™‚é–“**: 5 æ™‚é–“

### Task 10.4: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ

- [ ] README.md æ›´æ–°ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã€èµ·å‹•æ–¹æ³•ï¼‰
- [ ] API ä»•æ§˜æ›¸ä½œæˆï¼ˆOpenAPI/Swagger ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºã‚¬ã‚¤ãƒ‰ä½œæˆ
- [ ] ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰ä½œæˆ
- **å®Œäº†æ¡ä»¶**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå®Œæˆã—ã€ç¬¬ä¸‰è€…ãŒç†è§£ã§ãã‚‹
- **ä¾å­˜**: Task 10.3
- **æ¨å®šæ™‚é–“**: 4 æ™‚é–“

### Task 10.5: æœ¬ç•ªç’°å¢ƒç”¨è¨­å®š

- [ ] `docker-compose.prod.yml`ä½œæˆ
- [ ] ç’°å¢ƒå¤‰æ•°ã®æœ¬ç•ªç”¨è¨­å®š
- [ ] PostgreSQL å¤–éƒ¨æ¥ç¶šè¨­å®š
- [ ] Redis å¤–éƒ¨æ¥ç¶šè¨­å®š
- [ ] ãƒ­ã‚°è¨­å®šï¼ˆJSON å½¢å¼ï¼‰
- **å®Œäº†æ¡ä»¶**: æœ¬ç•ªç’°å¢ƒã§ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½
- **ä¾å­˜**: Task 10.4
- **æ¨å®šæ™‚é–“**: 3 æ™‚é–“

---

## å®Ÿè£…é †åº

### Sprint 1ï¼ˆWeek 1ï¼‰: ç’°å¢ƒæ§‹ç¯‰ã¨ã‚¤ãƒ³ãƒ•ãƒ©åŸºç›¤

- Task 1.1 â†’ Task 1.2 â†’ Task 1.3 â†’ Task 1.4 â†’ Task 1.5
- Task 2.1 â†’ Task 2.2 â†’ Task 2.3 â†’ Task 2.4 â†’ Task 2.5
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: docker-compose up -d ã§ LPãƒ»è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹

### Sprint 2ï¼ˆWeek 2ï¼‰: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã€èªè¨¼ã€DRM ã‚³ã‚¢

- Task 3.1 â†’ Task 3.2 â†’ Task 3.3 â†’ Task 3.4 â†’ Task 3.5 â†’ Task 3.6 â†’ Task 3.7 â†’ Task 3.8
- Task 4.1 â†’ Task 4.2 â†’ Task 4.3 â†’ Task 4.4 â†’ Task 4.5
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: èªè¨¼ãŒæ©Ÿèƒ½ã—ã€Developer APIãƒ»Activity API ãŒèªè¨¼ä»˜ãã§å‹•ä½œã™ã‚‹

### Sprint 3ï¼ˆWeek 3ï¼‰: ROIãƒ»ãƒ•ã‚¡ãƒãƒ«åˆ†æ

- Task 5.1 â†’ Task 5.2 â†’ Task 5.3 â†’ Task 5.4
- Task 6.1 â†’ Task 6.2 â†’ Task 6.3
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: Campaign APIãƒ»Funnel API ãŒæ©Ÿèƒ½ã™ã‚‹

### Sprint 4ï¼ˆWeek 4ï¼‰: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ UI

- Task 7.1 â†’ Task 7.2 â†’ Task 7.3 â†’ Task 7.4 â†’ Task 7.5
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã€å…¨æ©Ÿèƒ½ãŒæ“ä½œå¯èƒ½

### Sprint 5ï¼ˆWeek 5ï¼‰: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¨ GoogleAnalytics çµ±åˆ

- Task 8.1 â†’ Task 8.2 â†’ Task 8.3 â†’ Task 8.4
- Task 9.1 â†’ Task 9.2 â†’ Task 9.3
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã€GoogleAnalytics åŒæœŸãŒå‹•ä½œã™ã‚‹

### Sprint 6ï¼ˆWeek 6ï¼‰: ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™

- Task 10.1 â†’ Task 10.2 â†’ Task 10.3 â†’ Task 10.4 â†’ Task 10.5
- **ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª**: æœ¬ç•ªç’°å¢ƒã§ MVP ãŒå‹•ä½œã™ã‚‹

---

## ä¸¦è¡Œå®Ÿè¡Œå¯èƒ½ãªã‚¿ã‚¹ã‚¯

ä»¥ä¸‹ã®ã‚¿ã‚¹ã‚¯ã¯ä¾å­˜é–¢ä¿‚ãŒãªã„ãŸã‚ä¸¦è¡Œå®Ÿè¡Œå¯èƒ½ï¼š

- **Sprint 1**: Task 1.4ï¼ˆPostgreSQLï¼‰ã¨ Task 1.5ï¼ˆRedisï¼‰
- **Sprint 1**: Task 2.3ï¼ˆè¦ç´„ï¼‰ã¨ Task 2.4ï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ï¼‰
- **Sprint 2**: Task 3.2ï¼ˆDRM ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã¨ Task 3.3ï¼ˆROI ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã¨ Task 3.4ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- **Sprint 3**: Task 5.1-5.4ï¼ˆROI æ©Ÿèƒ½ï¼‰ã¨ Task 6.1-6.3ï¼ˆFunnel æ©Ÿèƒ½ï¼‰
- **Sprint 5**: Task 9.2ï¼ˆGoogleAnalytics åŒæœŸï¼‰ã¨ Task 9.3ï¼ˆGoogleAnalytics è¨­å®š UIï¼‰

---

## ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯                               | å¯¾ç­–                                                                   |
| ------------------------------------ | ---------------------------------------------------------------------- |
| **Docker ç’°å¢ƒã®è¤‡é›‘åŒ–**              | docker-compose-dev.yml ã‚’åˆ†é›¢ã—ã€é–‹ç™ºç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã‚’æ˜ç¢ºã«åŒºåˆ¥        |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¤±æ•—** | ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å‰ã«å¿…ãšãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨æ„   |
| **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®è¤‡é›‘åŒ–**       | æœ€åˆã¯ GoogleAnalytics ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ 1 ã¤ã®ã¿å®Ÿè£…ã—ã€å‹•ä½œç¢ºèªã—ã¦ã‹ã‚‰æ‹¡å¼µ |
| **UI/UX ã®è¤‡é›‘åŒ–**                   | MVP ã§ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ã«å¾¹ã—ã€æ©Ÿèƒ½å„ªå…ˆã§å®Ÿè£…                       |
| **ãƒ†ã‚¹ãƒˆã®ä¸è¶³**                     | å„ Sprint ã®æœ€å¾Œã«å¿…ãšçµ±åˆãƒ†ã‚¹ãƒˆãƒ»E2E ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ                     |

---

## æ³¨æ„äº‹é …

### ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½æ€§ã®ç¶­æŒ

- å„ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã€å¿…ãš`docker-compose up -d`ã§èµ·å‹•ç¢ºèª
- ã™ã¹ã¦ã® Sprint ã®æœ€å¾Œã«ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèªã‚’å®Ÿæ–½
- å‹•ä½œã—ãªã„çŠ¶æ…‹ã§ã‚³ãƒŸãƒƒãƒˆã—ãªã„

### ã‚³ãƒŸãƒƒãƒˆå˜ä½

- å„ã‚¿ã‚¹ã‚¯ã¯ 1-4 æ™‚é–“ã§å®Œçµã™ã‚‹å˜ä½
- ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«å¿…ãšã‚³ãƒŸãƒƒãƒˆ
- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯`feat(module): Task X.Y - èª¬æ˜`å½¢å¼

### å“è³ªãƒã‚§ãƒƒã‚¯

- ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«`pnpm lint`ã€`pnpm typecheck`ã‚’å®Ÿè¡Œ
- ãƒ†ã‚¹ãƒˆãŒå¿…è¦ãªã‚¿ã‚¹ã‚¯ã¯å¿…ãšå˜ä½“ãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…
- UI ã‚¿ã‚¹ã‚¯ã¯ E2E ãƒ†ã‚¹ãƒˆã§å‹•ä½œç¢ºèª

### ã‚·ãƒ³ãƒ—ãƒ«ã•ã®ç¶­æŒ

- è¤‡é›‘ãªå®Ÿè£…ã¯é¿ã‘ã€æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã§æ©Ÿèƒ½ã‚’å®Ÿç¾
- æŠ½è±¡åŒ–ã¯ 2 å›ç›®ä»¥é™ã«å®Ÿæ–½ï¼ˆYAGNI åŸå‰‡ï¼‰
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ç°¡æ½”ã«ã€ã‚³ãƒ¼ãƒ‰ã§è‡ªæ˜ãªéƒ¨åˆ†ã¯çœç•¥

---

## å®Ÿè£…é–‹å§‹ã‚¬ã‚¤ãƒ‰

### 1. æœ€åˆã®ã‚¿ã‚¹ã‚¯ã‹ã‚‰é †æ¬¡å®Ÿè£…

- Task 1.1 ã‹ã‚‰é–‹å§‹ã—ã€ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèªã—ãªãŒã‚‰é€²ã‚ã‚‹
- å„ã‚¿ã‚¹ã‚¯ã®å®Œäº†æ¡ä»¶ã‚’å¿…ãšç¢ºèª

### 2. TodoWrite ã§ã‚¿ã‚¹ã‚¯ç®¡ç†

- å„ã‚¿ã‚¹ã‚¯ã®é–‹å§‹æ™‚ã« TodoWrite ã§`in_progress`ã«æ›´æ–°
- å®Œäº†æ™‚ã¯`completed`ã«æ›´æ–°
- å•é¡Œç™ºç”Ÿæ™‚ã¯é€Ÿã‚„ã‹ã«å ±å‘Š

### 3. ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèªã‚’å¾¹åº•

- å„ Sprint ã®æœ€å¾Œã«å¿…ãšãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª
- `docker-compose up -d`ã§ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œç¢ºèª

### 4. å•é¡Œç™ºç”Ÿæ™‚ã®å¯¾å¿œ

- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è©³ç´°ã«è¨˜éŒ²
- ãƒ­ã‚°ã‚’ç¢ºèªï¼ˆ`docker-compose logs`ï¼‰
- å¿…è¦ã«å¿œã˜ã¦ã‚¿ã‚¹ã‚¯ã‚’åˆ†å‰²ãƒ»è¿½åŠ 

---

**MVP å®Œæˆç›®æ¨™**: 6 é€±é–“å¾Œ
**æœ€åˆã®ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½æ—¥**: Sprint 1 çµ‚äº†æ™‚ï¼ˆWeek 1ï¼‰
