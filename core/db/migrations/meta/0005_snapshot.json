{
  "id": "4137abc2-fbca-46e9-9a25-4e0694f21cf5",
  "prevId": "4aa4c40e-0870-4b09-80f5-0f9ad60ceb3f",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "api_key_id": {
          "name": "api_key_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hashed_key": {
          "name": "hashed_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_keys_tenant_id_tenants_tenant_id_fk": {
          "name": "api_keys_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "api_keys",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "api_keys_created_by_users_user_id_fk": {
          "name": "api_keys_created_by_users_user_id_fk",
          "tableFrom": "api_keys",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "notification_id": {
          "name": "notification_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target": {
          "name": "target",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notifications_tenant_id_tenants_tenant_id_fk": {
          "name": "notifications_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "notifications",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_settings": {
      "name": "system_settings",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "service_name": {
          "name": "service_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'DevCle'"
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fiscal_year_start_month": {
          "name": "fiscal_year_start_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 4
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Asia/Tokyo'"
        },
        "base_url": {
          "name": "base_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "s3_settings": {
          "name": "s3_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_settings": {
          "name": "smtp_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "shortlink_domain": {
          "name": "shortlink_domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "system_settings_tenant_id_tenants_tenant_id_fk": {
          "name": "system_settings_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "system_settings",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan": {
          "name": "plan",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'OSS'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auth_provider": {
          "name": "auth_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "disabled": {
          "name": "disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_tenant_id_tenants_tenant_id_fk": {
          "name": "users_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "users",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_tenant_email_unique": {
          "name": "users_tenant_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "developer_id": {
          "name": "developer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "external_user_id": {
          "name": "external_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "handle": {
          "name": "handle",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_url": {
          "name": "profile_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_seen": {
          "name": "first_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen": {
          "name": "last_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.8'"
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "dedup_key": {
          "name": "dedup_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_accounts_tenant_dev": {
          "name": "idx_accounts_tenant_dev",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "developer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "accounts_tenant_id_tenants_tenant_id_fk": {
          "name": "accounts_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "accounts",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "accounts_developer_id_developers_developer_id_fk": {
          "name": "accounts_developer_id_developers_developer_id_fk",
          "tableFrom": "accounts",
          "tableTo": "developers",
          "columnsFrom": [
            "developer_id"
          ],
          "columnsTo": [
            "developer_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "accounts_dedup_key_unique": {
          "name": "accounts_dedup_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "dedup_key"
          ]
        },
        "accounts_tenant_provider_user_unique": {
          "name": "accounts_tenant_provider_user_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "provider",
            "external_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.developer_identifiers": {
      "name": "developer_identifiers",
      "schema": "",
      "columns": {
        "identifier_id": {
          "name": "identifier_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "developer_id": {
          "name": "developer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value_normalized": {
          "name": "value_normalized",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "first_seen": {
          "name": "first_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen": {
          "name": "last_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_dev_identifiers_tenant_dev": {
          "name": "idx_dev_identifiers_tenant_dev",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "developer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "developer_identifiers_tenant_id_tenants_tenant_id_fk": {
          "name": "developer_identifiers_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "developer_identifiers",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "developer_identifiers_developer_id_developers_developer_id_fk": {
          "name": "developer_identifiers_developer_id_developers_developer_id_fk",
          "tableFrom": "developer_identifiers",
          "tableTo": "developers",
          "columnsFrom": [
            "developer_id"
          ],
          "columnsTo": [
            "developer_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "dev_identifiers_tenant_kind_value_unique": {
          "name": "dev_identifiers_tenant_kind_value_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "kind",
            "value_normalized"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.developer_merge_logs": {
      "name": "developer_merge_logs",
      "schema": "",
      "columns": {
        "merge_id": {
          "name": "merge_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "into_developer_id": {
          "name": "into_developer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "from_developer_id": {
          "name": "from_developer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "merged_at": {
          "name": "merged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "merged_by": {
          "name": "merged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "developer_merge_logs_tenant_id_tenants_tenant_id_fk": {
          "name": "developer_merge_logs_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "developer_merge_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "developer_merge_logs_into_developer_id_developers_developer_id_fk": {
          "name": "developer_merge_logs_into_developer_id_developers_developer_id_fk",
          "tableFrom": "developer_merge_logs",
          "tableTo": "developers",
          "columnsFrom": [
            "into_developer_id"
          ],
          "columnsTo": [
            "developer_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "developer_merge_logs_from_developer_id_developers_developer_id_fk": {
          "name": "developer_merge_logs_from_developer_id_developers_developer_id_fk",
          "tableFrom": "developer_merge_logs",
          "tableTo": "developers",
          "columnsFrom": [
            "from_developer_id"
          ],
          "columnsTo": [
            "developer_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "developer_merge_logs_merged_by_users_user_id_fk": {
          "name": "developer_merge_logs_merged_by_users_user_id_fk",
          "tableFrom": "developer_merge_logs",
          "tableTo": "users",
          "columnsFrom": [
            "merged_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.developers": {
      "name": "developers",
      "schema": "",
      "columns": {
        "developer_id": {
          "name": "developer_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_email": {
          "name": "primary_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "consent_analytics": {
          "name": "consent_analytics",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_developers_tenant_org": {
          "name": "idx_developers_tenant_org",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "developers_tenant_id_tenants_tenant_id_fk": {
          "name": "developers_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "developers",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "developers_org_id_organizations_org_id_fk": {
          "name": "developers_org_id_organizations_org_id_fk",
          "tableFrom": "developers",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "org_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "developers_tenant_email_unique": {
          "name": "developers_tenant_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "primary_email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain_primary": {
          "name": "domain_primary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "organizations_tenant_id_tenants_tenant_id_fk": {
          "name": "organizations_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "organizations",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organizations_tenant_name_unique": {
          "name": "organizations_tenant_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.budgets": {
      "name": "budgets",
      "schema": "",
      "columns": {
        "budget_id": {
          "name": "budget_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'JPY'"
        },
        "spent_at": {
          "name": "spent_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_budgets_tenant_campaign": {
          "name": "idx_budgets_tenant_campaign",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budgets_tenant_id_tenants_tenant_id_fk": {
          "name": "budgets_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "budgets",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "budgets_campaign_id_campaigns_campaign_id_fk": {
          "name": "budgets_campaign_id_campaigns_campaign_id_fk",
          "tableFrom": "budgets",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "campaign_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campaigns": {
      "name": "campaigns",
      "schema": "",
      "columns": {
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "budget_total": {
          "name": "budget_total",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "campaigns_tenant_id_tenants_tenant_id_fk": {
          "name": "campaigns_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "campaigns",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "campaigns_tenant_name_unique": {
          "name": "campaigns_tenant_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resources": {
      "name": "resources",
      "schema": "",
      "columns": {
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "group_key": {
          "name": "group_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_resources_tenant_cat": {
          "name": "idx_resources_tenant_cat",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_resources_tenant_campaign": {
          "name": "idx_resources_tenant_campaign",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resources_tenant_id_tenants_tenant_id_fk": {
          "name": "resources_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "resources",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resources_campaign_id_campaigns_campaign_id_fk": {
          "name": "resources_campaign_id_campaigns_campaign_id_fk",
          "tableFrom": "resources",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "campaign_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.activities": {
      "name": "activities",
      "schema": "",
      "columns": {
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "developer_id": {
          "name": "developer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "anon_id": {
          "name": "anon_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_ref": {
          "name": "source_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "group_key": {
          "name": "group_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "value": {
          "name": "value",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "dedup_key": {
          "name": "dedup_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ingested_at": {
          "name": "ingested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_activities_tenant_time": {
          "name": "idx_activities_tenant_time",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_tenant_dev": {
          "name": "idx_activities_tenant_dev",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "developer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_tenant_res": {
          "name": "idx_activities_tenant_res",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_tenant_action": {
          "name": "idx_activities_tenant_action",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activities_tenant_id_tenants_tenant_id_fk": {
          "name": "activities_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "activities",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activities_developer_id_developers_developer_id_fk": {
          "name": "activities_developer_id_developers_developer_id_fk",
          "tableFrom": "activities",
          "tableTo": "developers",
          "columnsFrom": [
            "developer_id"
          ],
          "columnsTo": [
            "developer_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "activities_account_id_accounts_account_id_fk": {
          "name": "activities_account_id_accounts_account_id_fk",
          "tableFrom": "activities",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "account_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "activities_resource_id_resources_resource_id_fk": {
          "name": "activities_resource_id_resources_resource_id_fk",
          "tableFrom": "activities",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "resource_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activities_dedup_key_unique": {
          "name": "activities_dedup_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "dedup_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.activity_campaigns": {
      "name": "activity_campaigns",
      "schema": "",
      "columns": {
        "activity_campaign_id": {
          "name": "activity_campaign_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "weight": {
          "name": "weight",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "activity_campaigns_tenant_id_tenants_tenant_id_fk": {
          "name": "activity_campaigns_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "activity_campaigns",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_campaigns_activity_id_activities_activity_id_fk": {
          "name": "activity_campaigns_activity_id_activities_activity_id_fk",
          "tableFrom": "activity_campaigns",
          "tableTo": "activities",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "activity_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_campaigns_campaign_id_campaigns_campaign_id_fk": {
          "name": "activity_campaigns_campaign_id_campaigns_campaign_id_fk",
          "tableFrom": "activity_campaigns",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "campaign_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activity_campaigns_tenant_activity_campaign_unique": {
          "name": "activity_campaigns_tenant_activity_campaign_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "activity_id",
            "campaign_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.import_jobs": {
      "name": "import_jobs",
      "schema": "",
      "columns": {
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metrics": {
          "name": "metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "import_jobs_tenant_id_tenants_tenant_id_fk": {
          "name": "import_jobs_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "import_jobs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "import_jobs_created_by_users_user_id_fk": {
          "name": "import_jobs_created_by_users_user_id_fk",
          "tableFrom": "import_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugin_events_raw": {
      "name": "plugin_events_raw",
      "schema": "",
      "columns": {
        "raw_id": {
          "name": "raw_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plugin_id": {
          "name": "plugin_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "dedup_key": {
          "name": "dedup_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "plugin_events_raw_tenant_id_tenants_tenant_id_fk": {
          "name": "plugin_events_raw_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "plugin_events_raw",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "plugin_events_raw_plugin_id_plugins_plugin_id_fk": {
          "name": "plugin_events_raw_plugin_id_plugins_plugin_id_fk",
          "tableFrom": "plugin_events_raw",
          "tableTo": "plugins",
          "columnsFrom": [
            "plugin_id"
          ],
          "columnsTo": [
            "plugin_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "plugin_events_raw_dedup_key_unique": {
          "name": "plugin_events_raw_dedup_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "dedup_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugin_runs": {
      "name": "plugin_runs",
      "schema": "",
      "columns": {
        "run_id": {
          "name": "run_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plugin_id": {
          "name": "plugin_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "trigger": {
          "name": "trigger",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_plugin_runs_tenant_plugin_time": {
          "name": "idx_plugin_runs_tenant_plugin_time",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "plugin_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "plugin_runs_tenant_id_tenants_tenant_id_fk": {
          "name": "plugin_runs_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "plugin_runs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "plugin_runs_plugin_id_plugins_plugin_id_fk": {
          "name": "plugin_runs_plugin_id_plugins_plugin_id_fk",
          "tableFrom": "plugin_runs",
          "tableTo": "plugins",
          "columnsFrom": [
            "plugin_id"
          ],
          "columnsTo": [
            "plugin_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugins": {
      "name": "plugins",
      "schema": "",
      "columns": {
        "plugin_id": {
          "name": "plugin_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "plugins_tenant_id_tenants_tenant_id_fk": {
          "name": "plugins_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "plugins",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "plugins_tenant_key_unique": {
          "name": "plugins_tenant_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.shortlinks": {
      "name": "shortlinks",
      "schema": "",
      "columns": {
        "shortlink_id": {
          "name": "shortlink_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_url": {
          "name": "target_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "shortlinks_tenant_id_tenants_tenant_id_fk": {
          "name": "shortlinks_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "shortlinks",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "shortlinks_campaign_id_campaigns_campaign_id_fk": {
          "name": "shortlinks_campaign_id_campaigns_campaign_id_fk",
          "tableFrom": "shortlinks",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "campaign_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "shortlinks_resource_id_resources_resource_id_fk": {
          "name": "shortlinks_resource_id_resources_resource_id_fk",
          "tableFrom": "shortlinks",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "resource_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "shortlinks_tenant_key_unique": {
          "name": "shortlinks_tenant_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.activity_funnel_map": {
      "name": "activity_funnel_map",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stage_key": {
          "name": "stage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "activity_funnel_map_tenant_id_tenants_tenant_id_fk": {
          "name": "activity_funnel_map_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "activity_funnel_map",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_funnel_map_stage_key_funnel_stages_stage_key_fk": {
          "name": "activity_funnel_map_stage_key_funnel_stages_stage_key_fk",
          "tableFrom": "activity_funnel_map",
          "tableTo": "funnel_stages",
          "columnsFrom": [
            "stage_key"
          ],
          "columnsTo": [
            "stage_key"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "activity_funnel_map_tenant_id_action_pk": {
          "name": "activity_funnel_map_tenant_id_action_pk",
          "columns": [
            "tenant_id",
            "action"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campaign_stats": {
      "name": "campaign_stats",
      "schema": "",
      "columns": {
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actions_total": {
          "name": "actions_total",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "conversions": {
          "name": "conversions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_total": {
          "name": "cost_total",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "roi_per_cost": {
          "name": "roi_per_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "campaign_stats_campaign_id_campaigns_campaign_id_fk": {
          "name": "campaign_stats_campaign_id_campaigns_campaign_id_fk",
          "tableFrom": "campaign_stats",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "campaign_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaign_stats_tenant_id_tenants_tenant_id_fk": {
          "name": "campaign_stats_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "campaign_stats",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.developer_stats": {
      "name": "developer_stats",
      "schema": "",
      "columns": {
        "developer_id": {
          "name": "developer_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_action_at": {
          "name": "last_action_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_actions": {
          "name": "total_actions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "clicks": {
          "name": "clicks",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "attends": {
          "name": "attends",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "posts": {
          "name": "posts",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "stars": {
          "name": "stars",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_dev_stats_tenant": {
          "name": "idx_dev_stats_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "developer_stats_tenant_id_tenants_tenant_id_fk": {
          "name": "developer_stats_tenant_id_tenants_tenant_id_fk",
          "tableFrom": "developer_stats",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "tenant_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.funnel_stages": {
      "name": "funnel_stages",
      "schema": "",
      "columns": {
        "stage_key": {
          "name": "stage_key",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "order_no": {
          "name": "order_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "funnel_stages_order_no_unique": {
          "name": "funnel_stages_order_no_unique",
          "nullsNotDistinct": false,
          "columns": [
            "order_no"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.schema_migrations": {
      "name": "schema_migrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "run_at": {
          "name": "run_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}